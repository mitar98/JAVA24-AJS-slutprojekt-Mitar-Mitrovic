(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function m_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _f={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function SE(){if(Fp)return Il;Fp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Kp;function bE(){return Kp||(Kp=1,_f.exports=SE()),_f.exports}var lt=bE(),vf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function RE(){if(Xp)return Tt;Xp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function $(V,K,et){this.props=V,this.context=K,this.refs=nt,this.updater=et||G}$.prototype.isReactComponent={},$.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function At(){}At.prototype=$.prototype;function mt(V,K,et){this.props=V,this.context=K,this.refs=nt,this.updater=et||G}var ht=mt.prototype=new At;ht.constructor=mt,Z(ht,$.prototype),ht.isPureReactComponent=!0;var It=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function x(V,K,et,J,ot,Rt){return et=Rt.ref,{$$typeof:s,type:V,key:K,ref:et!==void 0?et:null,props:Rt}}function b(V,K){return x(V.type,K,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function D(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return K[et]})}var C=/\/+/g;function O(V,K){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):K.toString(36)}function w(){}function Oe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ie(V,K,et,J,ot){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var yt=!1;if(V===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(V.$$typeof){case s:case e:yt=!0;break;case A:return yt=V._init,ie(yt(V._payload),K,et,J,ot)}}if(yt)return ot=ot(V),yt=J===""?"."+O(V,0):J,It(ot)?(et="",yt!=null&&(et=yt.replace(C,"$&/")+"/"),ie(ot,K,et,"",function(xn){return xn})):ot!=null&&(S(ot)&&(ot=b(ot,et+(ot.key==null||V&&V.key===ot.key?"":(""+ot.key).replace(C,"$&/")+"/")+yt)),K.push(ot)),1;yt=0;var be=J===""?".":J+":";if(It(V))for(var Zt=0;Zt<V.length;Zt++)J=V[Zt],Rt=be+O(J,Zt),yt+=ie(J,K,et,Rt,ot);else if(Zt=N(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(J=V.next()).done;)J=J.value,Rt=be+O(J,Zt++),yt+=ie(J,K,et,Rt,ot);else if(Rt==="object"){if(typeof V.then=="function")return ie(Oe(V),K,et,J,ot);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return yt}function j(V,K,et){if(V==null)return V;var J=[],ot=0;return ie(V,J,"","",function(Rt){return K.call(et,Rt,ot++)}),J}function tt(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var st=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Pt(){}return Tt.Children={map:j,forEach:function(V,K,et){j(V,function(){K.apply(this,arguments)},et)},count:function(V){var K=0;return j(V,function(){K++}),K},toArray:function(V){return j(V,function(K){return K})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Tt.Component=$,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=mt,Tt.StrictMode=r,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return vt.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cloneElement=function(V,K,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=Z({},V.props),ot=V.key,Rt=void 0;if(K!=null)for(yt in K.ref!==void 0&&(Rt=void 0),K.key!==void 0&&(ot=""+K.key),K)!zt.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(J[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)J.children=et;else if(1<yt){for(var be=Array(yt),Zt=0;Zt<yt;Zt++)be[Zt]=arguments[Zt+2];J.children=be}return x(V.type,ot,void 0,void 0,Rt,J)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Tt.createElement=function(V,K,et){var J,ot={},Rt=null;if(K!=null)for(J in K.key!==void 0&&(Rt=""+K.key),K)zt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=K[J]);var yt=arguments.length-2;if(yt===1)ot.children=et;else if(1<yt){for(var be=Array(yt),Zt=0;Zt<yt;Zt++)be[Zt]=arguments[Zt+2];ot.children=be}if(V&&V.defaultProps)for(J in yt=V.defaultProps,yt)ot[J]===void 0&&(ot[J]=yt[J]);return x(V,Rt,void 0,void 0,null,ot)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:p,render:V}},Tt.isValidElement=S,Tt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:tt}},Tt.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},Tt.startTransition=function(V){var K=vt.T,et={};vt.T=et;try{var J=V(),ot=vt.S;ot!==null&&ot(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Pt,st)}catch(Rt){st(Rt)}finally{vt.T=K}},Tt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Tt.use=function(V){return vt.H.use(V)},Tt.useActionState=function(V,K,et){return vt.H.useActionState(V,K,et)},Tt.useCallback=function(V,K){return vt.H.useCallback(V,K)},Tt.useContext=function(V){return vt.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,K){return vt.H.useDeferredValue(V,K)},Tt.useEffect=function(V,K,et){var J=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(V,K)},Tt.useId=function(){return vt.H.useId()},Tt.useImperativeHandle=function(V,K,et){return vt.H.useImperativeHandle(V,K,et)},Tt.useInsertionEffect=function(V,K){return vt.H.useInsertionEffect(V,K)},Tt.useLayoutEffect=function(V,K){return vt.H.useLayoutEffect(V,K)},Tt.useMemo=function(V,K){return vt.H.useMemo(V,K)},Tt.useOptimistic=function(V,K){return vt.H.useOptimistic(V,K)},Tt.useReducer=function(V,K,et){return vt.H.useReducer(V,K,et)},Tt.useRef=function(V){return vt.H.useRef(V)},Tt.useState=function(V){return vt.H.useState(V)},Tt.useSyncExternalStore=function(V,K,et){return vt.H.useSyncExternalStore(V,K,et)},Tt.useTransition=function(){return vt.H.useTransition()},Tt.version="19.1.0",Tt}var Zp;function ed(){return Zp||(Zp=1,vf.exports=RE()),vf.exports}var Nn=ed();const wE=m_(Nn);var Ef={exports:{}},Ol={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function CE(){return $p||($p=1,function(s){function e(j,tt){var st=j.length;j.push(tt);t:for(;0<st;){var Pt=st-1>>>1,V=j[Pt];if(0<u(V,tt))j[Pt]=tt,j[st]=V,st=Pt;else break t}}function i(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var tt=j[0],st=j.pop();if(st!==tt){j[0]=st;t:for(var Pt=0,V=j.length,K=V>>>1;Pt<K;){var et=2*(Pt+1)-1,J=j[et],ot=et+1,Rt=j[ot];if(0>u(J,st))ot<V&&0>u(Rt,J)?(j[Pt]=Rt,j[ot]=st,Pt=ot):(j[Pt]=J,j[et]=st,Pt=et);else if(ot<V&&0>u(Rt,st))j[Pt]=Rt,j[ot]=st,Pt=ot;else break t}}return tt}function u(j,tt){var st=j.sortIndex-tt.sortIndex;return st!==0?st:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,M=null,N=3,G=!1,Z=!1,nt=!1,$=!1,At=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function It(j){for(var tt=i(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=j)r(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function vt(j){if(nt=!1,It(j),!Z)if(i(v)!==null)Z=!0,zt||(zt=!0,O());else{var tt=i(_);tt!==null&&ie(vt,tt.startTime-j)}}var zt=!1,x=-1,b=5,S=-1;function D(){return $?!0:!(s.unstable_now()-S<b)}function C(){if($=!1,zt){var j=s.unstable_now();S=j;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,mt(x),x=-1),G=!0;var st=N;try{e:{for(It(j),M=i(v);M!==null&&!(M.expirationTime>j&&D());){var Pt=M.callback;if(typeof Pt=="function"){M.callback=null,N=M.priorityLevel;var V=Pt(M.expirationTime<=j);if(j=s.unstable_now(),typeof V=="function"){M.callback=V,It(j),tt=!0;break e}M===i(v)&&r(v),It(j)}else r(v);M=i(v)}if(M!==null)tt=!0;else{var K=i(_);K!==null&&ie(vt,K.startTime-j),tt=!1}}break t}finally{M=null,N=st,G=!1}tt=void 0}}finally{tt?O():zt=!1}}}var O;if(typeof ht=="function")O=function(){ht(C)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Oe=w.port2;w.port1.onmessage=C,O=function(){Oe.postMessage(null)}}else O=function(){At(C,0)};function ie(j,tt){x=At(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(j){switch(N){case 1:case 2:case 3:var tt=3;break;default:tt=N}var st=N;N=tt;try{return j()}finally{N=st}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var st=N;N=j;try{return tt()}finally{N=st}},s.unstable_scheduleCallback=function(j,tt,st){var Pt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Pt+st:Pt):st=Pt,j){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=st+V,j={id:A++,callback:tt,priorityLevel:j,startTime:st,expirationTime:V,sortIndex:-1},st>Pt?(j.sortIndex=st,e(_,j),i(v)===null&&j===i(_)&&(nt?(mt(x),x=-1):nt=!0,ie(vt,st-Pt))):(j.sortIndex=V,e(v,j),Z||G||(Z=!0,zt||(zt=!0,O()))),j},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(j){var tt=N;return function(){var st=N;N=tt;try{return j.apply(this,arguments)}finally{N=st}}}}(Af)),Af}var Jp;function DE(){return Jp||(Jp=1,Tf.exports=CE()),Tf.exports}var Sf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function VE(){if(Wp)return je;Wp=1;var s=ed();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},je.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},je.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,M=p(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:M,integrity:N,fetchPriority:G}):A==="script"&&r.d.X(v,{crossOrigin:M,integrity:N,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,M=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:M,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},je.requestFormReset=function(v){r.d.r(v)},je.unstable_batchedUpdates=function(v,_){return v(_)},je.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var ty;function IE(){if(ty)return Sf.exports;ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sf.exports=VE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function OE(){if(ey)return Ol;ey=1;var s=DE(),e=ed(),i=IE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),mt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case zt:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ht:return(t.displayName||"Context")+".Provider";case mt:return(t._context.displayName||"Context")+".Consumer";case It:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var ie=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Pt=[],V=-1;function K(t){return{current:t}}function et(t){0>V||(t.current=Pt[V],Pt[V]=null,V--)}function J(t,n){V++,Pt[V]=t.current,t.current=n}var ot=K(null),Rt=K(null),yt=K(null),be=K(null);function Zt(t,n){switch(J(yt,n),J(Rt,t),J(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Tp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Tp(n),t=Ap(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),J(ot,t)}function xn(){et(ot),et(Rt),et(yt)}function Oi(t){t.memoizedState!==null&&J(be,t);var n=ot.current,a=Ap(n,t.type);n!==a&&(J(Rt,t),J(ot,a))}function ni(t){Rt.current===t&&(et(ot),et(Rt)),be.current===t&&(et(be),Rl._currentValue=st)}var Ta=Object.prototype.hasOwnProperty,Aa=s.unstable_scheduleCallback,Sa=s.unstable_cancelCallback,As=s.unstable_shouldYield,Wl=s.unstable_requestPaint,fn=s.unstable_now,yc=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,fr=s.unstable_UserBlockingPriority,ba=s.unstable_NormalPriority,_c=s.unstable_LowPriority,dr=s.unstable_IdlePriority,bs=s.log,tu=s.unstable_setDisableYieldValue,ae=null,jt=null;function en(t){if(typeof bs=="function"&&tu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var ke=Math.clz32?Math.clz32:Ra,eu=Math.log,vc=Math.LN2;function Ra(t){return t>>>=0,t===0?32:31-(eu(t)/vc|0)|0}var wa=256,Ca=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(y&=E,y!==0?c=wn(y):a||(a=E&~t,a!==0&&(c=wn(a))))):(E=l&~f,E!==0?c=wn(E):y!==0?c=wn(y):a||(a=l&~t,a!==0&&(c=wn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Da(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=wa;return wa<<=1,(wa&4194048)===0&&(wa=256),t}function Cs(){var t=Ca;return Ca<<=1,(Ca&62914560)===0&&(Ca=4194304),t}function ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ai(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ds(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-ke(a),Y=1<<H;E[H]=0,R[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Vs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ke(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Ni(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:qp(t.type))}function nu(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,he="__reactProps$"+Jt,dn="__reactContainer$"+Jt,Is="__reactEvents$"+Jt,Ec="__reactListeners$"+Jt,xi="__reactHandles$"+Jt,iu="__reactResources$"+Jt,Va="__reactMarker$"+Jt;function Ui(t){delete t[pe],delete t[he],delete t[Is],delete t[Ec],delete t[xi]}function ri(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[dn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=wp(t);t!==null;){if(a=t[pe])return a;t=wp(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[pe]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ye(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Va]=!0}var Os=new Set,pr={};function Cn(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(pr[t]=n,t=0;t<n.length;t++)Os.add(n[t])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ru={},Ia={};function su(t){return Ta.call(Ia,t)?!0:Ta.call(ru,t)?!1:au.test(t)?Ia[t]=!0:(ru[t]=!0,!1)}function zi(t,n,a){if(su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ne(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Oa,lu;function li(t){if(Oa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Oa=n&&n[1]||"",lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+t+lu}var yr=!1;function _r(t,n){if(!t||yr)return"";yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{yr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function Ns(t){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return _r(t.type,!1);case 11:return _r(t.type.render,!1);case 1:return _r(t.type,!0);case 31:return li("Activity");default:return""}}function vr(t){try{var n="";do n+=Ns(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tc(t){var n=Ms(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Er(t){t._valueTracker||(t._valueTracker=Tc(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ac=/[\n"\\]/g;function fe(t){return t.replace(Ac,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Li(t,y,Fe(n)):a!=null?Li(t,y,Fe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Ma(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Fe(a):"",n=n!=null?""+Fe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Li(t,n,a){n==="number"&&Na(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ui(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Fe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Fe(a):""}function xa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Fe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ua.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Us(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&uu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&uu(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(t){return bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var oi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function Ls(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(nn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(r(90));nn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&xs(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ui(t,!!a.multiple,n,!1)}}}var Bn=!1;function ou(t,n,a){if(Bn)return t(n,a);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(ci!==null||hi!==null)&&(no(),ci&&(n=ci,t=hi,hi=ci=null,Ls(n),t)))for(n=0;n<t.length;n++)Ls(t[n])}}function za(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Dn)try{var La={};Object.defineProperty(La,"passive",{get:function(){pn=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{pn=!1}var kn=null,Pi=null,fi=null;function Ps(){if(fi)return fi;var t,n=Pi,a=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Bs(){return!1}function Re(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:Bs,this.isPropagationStopped=Bs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ar=Re(kt),Pa=A({},kt,{view:0,detail:0}),cu=Re(Pa),Sr,br,Hn,Ba=A({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Sr=t.screenX-Hn.screenX,br=t.screenY-Hn.screenY):br=Sr=0,Hn=t),Sr)},movementY:function(t){return"movementY"in t?t.movementY:br}}),yn=Re(Ba),hu=A({},Ba,{dataTransfer:0}),Rc=Re(hu),ka=A({},Pa,{relatedTarget:0}),Rr=Re(ka),ks=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),wr=Re(ks),fu=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cr=Re(fu),wc=A({},kt,{data:0}),qs=Re(wc),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function ja(){return js}var gu=A({},Pa,{key:function(t){if(t.key){var n=qa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dr=Re(gu),pu=A({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=Re(pu),di=A({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),yu=Re(di),_u=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Re(_u),Eu=A({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vr=Re(Eu),Ke=A({},kt,{newState:0,oldState:0}),Tu=Re(Ke),Au=[9,13,27,32],Gn=Dn&&"CompositionEvent"in window,o=null;Dn&&"documentMode"in document&&(o=document.documentMode);var m=Dn&&"TextEvent"in window&&!o,g=Dn&&(!Gn||o&&8<o&&11>=o),T=" ",z=!1;function q(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function ye(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Nt(t,n){if(Ot)return t==="compositionend"||!Gn&&q(t,n)?(t=Ps(),fi=Pi=kn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function mi(t,n,a,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=uo(n,"onChange"),0<n.length&&(a=new Ar("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Qn=null;function Gs(t){pp(t,0)}function Su(t){var n=Ln(t);if(xs(n))return t}function Ld(t,n){if(t==="change")return n}var Pd=!1;if(Dn){var Cc;if(Dn){var Dc="oninput"in document;if(!Dc){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Dc=typeof Bd.oninput=="function"}Cc=Dc}else Cc=!1;Pd=Cc&&(!document.documentMode||9<document.documentMode)}function kd(){Me&&(Me.detachEvent("onpropertychange",qd),Qn=Me=null)}function qd(t){if(t.propertyName==="value"&&Su(Qn)){var n=[];mi(n,Qn,t,gn(t)),ou(Gs,n)}}function Wv(t,n,a){t==="focusin"?(kd(),Me=n,Qn=a,Me.attachEvent("onpropertychange",qd)):t==="focusout"&&kd()}function t0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Qn)}function e0(t,n){if(t==="click")return Su(n)}function n0(t,n){if(t==="input"||t==="change")return Su(n)}function i0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:i0;function Qs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ta.call(n,c)||!an(t[c],n[c]))return!1}return!0}function jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hd(t,n){var a=jd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=jd(a)}}function Gd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Gd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Na(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Na(t.document)}return n}function Vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var a0=Dn&&"documentMode"in document&&11>=document.documentMode,Ir=null,Ic=null,Ys=null,Oc=!1;function Yd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oc||Ir==null||Ir!==Na(l)||(l=Ir,"selectionStart"in l&&Vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Qs(Ys,l)||(Ys=l,l=uo(Ic,"onSelect"),0<l.length&&(n=new Ar("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ir)))}function Ha(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Or={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Nc={},Fd={};Dn&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Ga(t){if(Nc[t])return Nc[t];if(!Or[t])return t;var n=Or[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Fd)return Nc[t]=n[a];return t}var Kd=Ga("animationend"),Xd=Ga("animationiteration"),Zd=Ga("animationstart"),r0=Ga("transitionrun"),s0=Ga("transitionstart"),l0=Ga("transitioncancel"),$d=Ga("transitionend"),Jd=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Vn(t,n){Jd.set(t,n),Cn(n,[t])}var Wd=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var a=Wd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:vr(n)},Wd.set(t,n),n)}return{value:t,source:n,stack:vr(n)}}var vn=[],Nr=0,xc=0;function bu(){for(var t=Nr,n=xc=Nr=0;n<t;){var a=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&tm(a,c,f)}}function Ru(t,n,a,l){vn[Nr++]=t,vn[Nr++]=n,vn[Nr++]=a,vn[Nr++]=l,xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,a,l){return Ru(t,n,a,l),wu(t)}function Mr(t,n){return Ru(t,null,null,n),wu(t)}function tm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function wu(t){if(50<yl)throw yl=0,qh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var xr={};function u0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,n,a,l){return new u0(t,n,a,l)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var a=t.alternate;return a===null?(a=rn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function em(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")zc(t)&&(y=1);else if(typeof t=="string")y=cE(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case S:return t=rn(31,a,n,c),t.elementType=S,t.lanes=f,t;case Z:return Qa(a.children,c,f,n);case nt:y=8,c|=24;break;case $:return t=rn(12,a,n,c|2),t.elementType=$,t.lanes=f,t;case vt:return t=rn(13,a,n,c),t.elementType=vt,t.lanes=f,t;case zt:return t=rn(19,a,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case At:case ht:y=10;break t;case mt:y=9;break t;case It:y=11;break t;case x:y=14;break t;case b:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=rn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Qa(t,n,a,l){return t=rn(7,t,l,n),t.lanes=a,t}function Lc(t,n,a){return t=rn(6,t,null,n),t.lanes=a,t}function Pc(t,n,a){return n=rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ur=[],zr=0,Du=null,Vu=0,En=[],Tn=0,Ya=null,pi=1,yi="";function Fa(t,n){Ur[zr++]=Vu,Ur[zr++]=Du,Du=t,Vu=n}function nm(t,n,a){En[Tn++]=pi,En[Tn++]=yi,En[Tn++]=Ya,Ya=t;var l=pi;t=yi;var c=32-ke(l)-1;l&=~(1<<c),a+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-ke(n)+c|a<<c|l,yi=f+t}else pi=1<<f|a<<c|l,yi=t}function Bc(t){t.return!==null&&(Fa(t,1),nm(t,1,0))}function kc(t){for(;t===Du;)Du=Ur[--zr],Ur[zr]=null,Vu=Ur[--zr],Ur[zr]=null;for(;t===Ya;)Ya=En[--Tn],En[Tn]=null,yi=En[--Tn],En[Tn]=null,pi=En[--Tn],En[Tn]=null}var Xe=null,re=null,Bt=!1,Ka=null,Yn=!1,qc=Error(r(519));function Xa(t){var n=Error(r(418,""));throw Xs(_n(n,t)),qc}function im(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[he]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<vl.length;a++)Dt(vl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Ma(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Er(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),xa(n,l.value,l.defaultValue,l.children),Er(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ep(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Xa(t)}function am(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xe=Xe.return}}function Fs(t){if(t!==Xe)return!1;if(!Bt)return am(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||af(t.type,t.memoizedProps)),a=!a),a&&re&&Xa(t),am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){re=On(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,ta(t.type)?(t=uf,uf=null,re=t):re=n):re=Xe?On(t.stateNode.nextSibling):null;return!0}function Ks(){re=Xe=null,Bt=!1}function rm(){var t=Ka;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Ka=null),t}function Xs(t){Ka===null?Ka=[t]:Ka.push(t)}var jc=K(null),Za=null,_i=null;function Bi(t,n,a){J(jc,n._currentValue),n._currentValue=a}function vi(t){t._currentValue=jc.current,et(jc)}function Hc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Gc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Hc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Hc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&Gc(n,t,a,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){Za=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return sm(Za,t)}function Ou(t,n){return Za===null&&$a(t),sm(t,n)}function sm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},_i===null){if(t===null)throw Error(r(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return a}var o0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},c0=s.unstable_scheduleCallback,h0=s.unstable_NormalPriority,ve={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new o0,data:new Map,refCount:0}}function $s(t){t.refCount--,t.refCount===0&&c0(h0,function(){t.controller.abort()})}var Js=null,Yc=0,Lr=0,Pr=null;function f0(t,n){if(Js===null){var a=Js=[];Yc=0,Lr=Kh(),Pr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yc++,n.then(lm,lm),n}function lm(){if(--Yc===0&&Js!==null){Pr!==null&&(Pr.status="fulfilled");var t=Js;Js=null,Lr=0,Pr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function d0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var um=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&f0(t,n),um!==null&&um(t,n)};var Ja=K(null);function Fc(){var t=Ja.current;return t!==null?t:$t.pooledCache}function Nu(t,n){n===null?J(Ja,Ja.current):J(Ja,n.pool)}function om(){var t=Fc();return t===null?null:{parent:ve._currentValue,pool:t}}var Ws=Error(r(460)),cm=Error(r(474)),Mu=Error(r(542)),Kc={then:function(){}};function hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function fm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(xu,xu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mm(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mm(t),t}throw tl=n,Ws}}var tl=null;function dm(){if(tl===null)throw Error(r(459));var t=tl;return tl=null,t}function mm(t){if(t===Ws||t===Mu)throw Error(r(483))}var ki=!1;function Xc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),tm(t,null,a),n}return Ru(t,l,n,a),wu(t)}function el(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Vs(t,a)}}function $c(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Jc=!1;function nl(){if(Jc){var t=Pr;if(t!==null)throw t}}function il(t,n,a,l){Jc=!1;var c=t.updateQueue;ki=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,y===null?f=P:y.next=P,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var Y=c.baseState;y=0,H=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Mt&B)===B:(l&B)===B){B!==0&&B===Lr&&(Jc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,ft=E;B=n;var Kt=a;switch(ft.tag){case 1:if(pt=ft.payload,typeof pt=="function"){Y=pt.call(Kt,Y,B);break t}Y=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ft.payload,B=typeof pt=="function"?pt.call(Kt,Y,B):pt,B==null)break t;Y=A({},Y,B);break t;case 2:ki=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=k,R=Y):H=H.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=Y}}function gm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function pm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gm(a[t],n)}var Br=K(null),Uu=K(0);function ym(t,n){t=wi,J(Uu,t),J(Br,n),wi=t|n.baseLanes}function Wc(){J(Uu,wi),J(Br,Br.current)}function th(){wi=Uu.current,et(Br),et(Uu)}var Hi=0,St=null,Yt=null,de=null,zu=!1,kr=!1,Wa=!1,Lu=0,al=0,qr=null,m0=0;function ue(){throw Error(r(321))}function eh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!an(t[a],n[a]))return!1;return!0}function nh(t,n,a,l,c,f){return Hi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?tg:eg,Wa=!1,f=a(l,c),Wa=!1,kr&&(f=vm(n,a,l,c)),_m(t),f}function _m(t){j.H=Hu;var n=Yt!==null&&Yt.next!==null;if(Hi=0,de=Yt=St=null,zu=!1,al=0,qr=null,n)throw Error(r(300));t===null||Ce||(t=t.dependencies,t!==null&&Iu(t)&&(Ce=!0))}function vm(t,n,a,l){St=t;var c=0;do{if(kr&&(qr=null),al=0,kr=!1,25<=c)throw Error(r(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=T0,f=n(a,l)}while(kr);return f}function g0(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?rl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function ih(){var t=Lu!==0;return Lu=0,t}function ah(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function rh(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}Hi=0,de=Yt=St=null,kr=!1,al=Lu=0,qr=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?St.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?St.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?St.memoizedState=de=t:de=de.next=t}return de}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var n=al;return al+=1,qr===null&&(qr=[]),t=fm(qr,t,n),n=St,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?tg:eg),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===ht)return qe(t)}throw Error(r(438,String(t)))}function lh(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=sh(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=D;return n.index++,a}function Ei(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=me();return uh(n,Yt,t)}function uh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Mt&Y)===Y:(Hi&Y)===Y){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Lr&&(H=!0);else if((Hi&B)===B){P=P.next,B===Lr&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,y=f):R=R.next=Y,St.lanes|=B,Zi|=B;Y=P.action,Wa&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,St.lanes|=Y,Zi|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?y=f:R.next=E,!an(f,t.memoizedState)&&(Ce=!0,H&&(a=Pr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function oh(t){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Em(t,n,a){var l=St,c=me(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!an((Yt||c).memoizedState,a);y&&(c.memoizedState=a,Ce=!0),c=c.queue;var E=Sm.bind(null,l,c,t);if(sl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,jr(9,ku(),Am.bind(null,l,c,a,n),null),$t===null)throw Error(r(349));f||(Hi&124)!==0||Tm(l,n,a)}return a}function Tm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=sh(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Am(t,n,a,l){n.value=a,n.getSnapshot=l,bm(n)&&Rm(t)}function Sm(t,n,a){return a(function(){bm(n)&&Rm(t)})}function bm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!an(t,a)}catch{return!0}}function Rm(t){var n=Mr(t,2);n!==null&&cn(n,t,2)}function ch(t){var n=Ze();if(typeof t=="function"){var a=t;if(t=a(),Wa){en(!0);try{a()}finally{en(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function wm(t,n,a,l){return t.baseState=a,uh(t,Yt,typeof l=="function"?l:Ei)}function p0(t,n,a,l,c){if(ju(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Cm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Cm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=a(c,l),R=j.S;R!==null&&R(y,E),Dm(t,n,E)}catch(P){hh(t,n,P)}finally{j.T=f}}else try{f=a(c,l),Dm(t,n,f)}catch(P){hh(t,n,P)}}function Dm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vm(t,n,l)},function(l){return hh(t,n,l)}):Vm(t,n,a)}function Vm(t,n,a){n.status="fulfilled",n.value=a,Im(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Cm(t,a)))}function hh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Im(n),n=n.next;while(n!==l)}t.action=null}function Im(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Om(t,n){return n}function Nm(t,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=St;if(Bt){if(re){e:{for(var c=re,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=On(c.nextSibling),l=c.data==="F!";break t}}Xa(l)}l=!1}l&&(n=a[0])}}return a=Ze(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:n},a.queue=l,a=$m.bind(null,St,l),l.dispatch=a,l=ch(!1),f=ph.bind(null,St,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=p0.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Mm(t){var n=me();return xm(n,Yt,t)}function xm(t,n,a){if(n=uh(t,n,Om)[0],t=Bu(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=rl(n)}catch(y){throw y===Ws?Mu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,jr(9,ku(),y0.bind(null,c,a),null)),[l,f,t]}function y0(t,n){t.action=n}function Um(t){var n=me(),a=Yt;if(a!==null)return xm(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function jr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=sh(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ku(){return{destroy:void 0,resource:void 0}}function zm(){return me().memoizedState}function qu(t,n,a,l){var c=Ze();l=l===void 0?null:l,St.flags|=t,c.memoizedState=jr(1|n,ku(),a,l)}function sl(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&eh(l,Yt.memoizedState.deps)?c.memoizedState=jr(n,f,a,l):(St.flags|=t,c.memoizedState=jr(1|n,f,a,l))}function Lm(t,n){qu(8390656,8,t,n)}function Pm(t,n){sl(2048,8,t,n)}function Bm(t,n){return sl(4,2,t,n)}function km(t,n){return sl(4,4,t,n)}function qm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jm(t,n,a){a=a!=null?a.concat([t]):null,sl(4,4,qm.bind(null,n,t),a)}function fh(){}function Hm(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&eh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Gm(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&eh(n,l[1]))return l[0];if(l=t(),Wa){en(!0);try{t()}finally{en(!1)}}return a.memoizedState=[l,n],l}function dh(t,n,a){return a===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Fg(),St.lanes|=t,Zi|=t,a)}function Qm(t,n,a,l){return an(a,n)?a:Br.current!==null?(t=dh(t,a,l),an(t,n)||(Ce=!0),t):(Hi&42)===0?(Ce=!0,t.memoizedState=a):(t=Fg(),St.lanes|=t,Zi|=t,n)}function Ym(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,ph(t,!1,n,a);try{var R=c(),P=j.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=d0(R,l);ll(t,n,H,on(t))}else ll(t,n,l,on(t))}catch(Y){ll(t,n,{then:function(){},status:"rejected",reason:Y},on())}finally{tt.p=f,j.T=y}}function _0(){}function mh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Fm(t).queue;Ym(t,c,n,st,a===null?_0:function(){return Km(t),a(l)})}function Fm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:st},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Km(t){var n=Fm(t).next.queue;ll(t,n,{},on())}function gh(){return qe(Rl)}function Xm(){return me().memoizedState}function Zm(){return me().memoizedState}function v0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=on();t=qi(a);var l=ji(n,t,a);l!==null&&(cn(l,n,a),el(l,n,a)),n={cache:Qc()},t.payload=n;return}n=n.return}}function E0(t,n,a){var l=on();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(t)?Jm(n,a):(a=Uc(t,n,a,l),a!==null&&(cn(a,t,l),Wm(a,n,l)))}function $m(t,n,a){var l=on();ll(t,n,a,l)}function ll(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Jm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Ru(t,n,c,0),$t===null&&bu(),!1}catch{}finally{}if(a=Uc(t,n,c,l),a!==null)return cn(a,t,l),Wm(a,n,l),!0}return!1}function ph(t,n,a,l){if(l={lane:2,revertLane:Kh(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(n)throw Error(r(479))}else n=Uc(t,a,l,2),n!==null&&cn(n,t,2)}function ju(t){var n=t.alternate;return t===St||n!==null&&n===St}function Jm(t,n){kr=zu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Wm(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Vs(t,a)}}var Hu={readContext:qe,use:Pu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},tg={readContext:qe,use:Pu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Lm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,qu(4194308,4,qm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var a=Ze();n=n===void 0?null:n;var l=t();if(Wa){en(!0);try{t()}finally{en(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ze();if(a!==void 0){var c=a(n);if(Wa){en(!0);try{a(n)}finally{en(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=E0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=ch(t);var n=t.queue,a=$m.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:fh,useDeferredValue:function(t,n){var a=Ze();return dh(a,t,n)},useTransition:function(){var t=ch(!1);return t=Ym.bind(null,St,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=Ze();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$t===null)throw Error(r(349));(Mt&124)!==0||Tm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Lm(Sm.bind(null,l,f,t),[t]),l.flags|=2048,jr(9,ku(),Am.bind(null,l,f,a,n),null),a},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Bt){var a=yi,l=pi;a=(l&~(1<<32-ke(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Lu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=m0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:gh,useFormState:Nm,useActionState:Nm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ph.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:lh,useCacheRefresh:function(){return Ze().memoizedState=v0.bind(null,St)}},eg={readContext:qe,use:Pu,useCallback:Hm,useContext:qe,useEffect:Pm,useImperativeHandle:jm,useInsertionEffect:Bm,useLayoutEffect:km,useMemo:Gm,useReducer:Bu,useRef:zm,useState:function(){return Bu(Ei)},useDebugValue:fh,useDeferredValue:function(t,n){var a=me();return Qm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Bu(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:Em,useId:Xm,useHostTransitionStatus:gh,useFormState:Mm,useActionState:Mm,useOptimistic:function(t,n){var a=me();return wm(a,Yt,t,n)},useMemoCache:lh,useCacheRefresh:Zm},T0={readContext:qe,use:Pu,useCallback:Hm,useContext:qe,useEffect:Pm,useImperativeHandle:jm,useInsertionEffect:Bm,useLayoutEffect:km,useMemo:Gm,useReducer:oh,useRef:zm,useState:function(){return oh(Ei)},useDebugValue:fh,useDeferredValue:function(t,n){var a=me();return Yt===null?dh(a,t,n):Qm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=oh(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:Em,useId:Xm,useHostTransitionStatus:gh,useFormState:Um,useActionState:Um,useOptimistic:function(t,n){var a=me();return Yt!==null?wm(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:lh,useCacheRefresh:Zm},Hr=null,ul=0;function Gu(t){var n=ul;return ul+=1,Hr===null&&(Hr=[]),fm(Hr,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ng(t){var n=t._init;return n(t._payload)}function ig(t){function n(U,I){if(t){var L=U.deletions;L===null?(U.deletions=[I],U.flags|=16):L.push(I)}}function a(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=gi(U,I),U.index=0,U.sibling=null,U}function f(U,I,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<I?(U.flags|=67108866,I):L):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,L,Q){return I===null||I.tag!==6?(I=Lc(L,U.mode,Q),I.return=U,I):(I=c(I,L),I.return=U,I)}function R(U,I,L,Q){var at=L.type;return at===Z?H(U,I,L.props.children,Q,L.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&ng(at)===I.type)?(I=c(I,L.props),ol(I,L),I.return=U,I):(I=Cu(L.type,L.key,L.props,null,U.mode,Q),ol(I,L),I.return=U,I)}function P(U,I,L,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Pc(L,U.mode,Q),I.return=U,I):(I=c(I,L.children||[]),I.return=U,I)}function H(U,I,L,Q,at){return I===null||I.tag!==7?(I=Qa(L,U.mode,Q,at),I.return=U,I):(I=c(I,L),I.return=U,I)}function Y(U,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Lc(""+I,U.mode,L),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case N:return L=Cu(I.type,I.key,I.props,null,U.mode,L),ol(L,I),L.return=U,L;case G:return I=Pc(I,U.mode,L),I.return=U,I;case b:var Q=I._init;return I=Q(I._payload),Y(U,I,L)}if(ie(I)||O(I))return I=Qa(I,U.mode,L,null),I.return=U,I;if(typeof I.then=="function")return Y(U,Gu(I),L);if(I.$$typeof===ht)return Y(U,Ou(U,I),L);Qu(U,I)}return null}function B(U,I,L,Q){var at=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(U,I,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===at?R(U,I,L,Q):null;case G:return L.key===at?P(U,I,L,Q):null;case b:return at=L._init,L=at(L._payload),B(U,I,L,Q)}if(ie(L)||O(L))return at!==null?null:H(U,I,L,Q,null);if(typeof L.then=="function")return B(U,I,Gu(L),Q);if(L.$$typeof===ht)return B(U,I,Ou(U,L),Q);Qu(U,L)}return null}function k(U,I,L,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(L)||null,E(I,U,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return U=U.get(Q.key===null?L:Q.key)||null,R(I,U,Q,at);case G:return U=U.get(Q.key===null?L:Q.key)||null,P(I,U,Q,at);case b:var wt=Q._init;return Q=wt(Q._payload),k(U,I,L,Q,at)}if(ie(Q)||O(Q))return U=U.get(L)||null,H(I,U,Q,at,null);if(typeof Q.then=="function")return k(U,I,L,Gu(Q),at);if(Q.$$typeof===ht)return k(U,I,L,Ou(I,Q),at);Qu(I,Q)}return null}function pt(U,I,L,Q){for(var at=null,wt=null,rt=I,dt=I=0,Ve=null;rt!==null&&dt<L.length;dt++){rt.index>dt?(Ve=rt,rt=null):Ve=rt.sibling;var Lt=B(U,rt,L[dt],Q);if(Lt===null){rt===null&&(rt=Ve);break}t&&rt&&Lt.alternate===null&&n(U,rt),I=f(Lt,I,dt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt,rt=Ve}if(dt===L.length)return a(U,rt),Bt&&Fa(U,dt),at;if(rt===null){for(;dt<L.length;dt++)rt=Y(U,L[dt],Q),rt!==null&&(I=f(rt,I,dt),wt===null?at=rt:wt.sibling=rt,wt=rt);return Bt&&Fa(U,dt),at}for(rt=l(rt);dt<L.length;dt++)Ve=k(rt,U,dt,L[dt],Q),Ve!==null&&(t&&Ve.alternate!==null&&rt.delete(Ve.key===null?dt:Ve.key),I=f(Ve,I,dt),wt===null?at=Ve:wt.sibling=Ve,wt=Ve);return t&&rt.forEach(function(ra){return n(U,ra)}),Bt&&Fa(U,dt),at}function ft(U,I,L,Q){if(L==null)throw Error(r(151));for(var at=null,wt=null,rt=I,dt=I=0,Ve=null,Lt=L.next();rt!==null&&!Lt.done;dt++,Lt=L.next()){rt.index>dt?(Ve=rt,rt=null):Ve=rt.sibling;var ra=B(U,rt,Lt.value,Q);if(ra===null){rt===null&&(rt=Ve);break}t&&rt&&ra.alternate===null&&n(U,rt),I=f(ra,I,dt),wt===null?at=ra:wt.sibling=ra,wt=ra,rt=Ve}if(Lt.done)return a(U,rt),Bt&&Fa(U,dt),at;if(rt===null){for(;!Lt.done;dt++,Lt=L.next())Lt=Y(U,Lt.value,Q),Lt!==null&&(I=f(Lt,I,dt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return Bt&&Fa(U,dt),at}for(rt=l(rt);!Lt.done;dt++,Lt=L.next())Lt=k(rt,U,dt,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&rt.delete(Lt.key===null?dt:Lt.key),I=f(Lt,I,dt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return t&&rt.forEach(function(AE){return n(U,AE)}),Bt&&Fa(U,dt),at}function Kt(U,I,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:t:{for(var at=L.key;I!==null;){if(I.key===at){if(at=L.type,at===Z){if(I.tag===7){a(U,I.sibling),Q=c(I,L.props.children),Q.return=U,U=Q;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&ng(at)===I.type){a(U,I.sibling),Q=c(I,L.props),ol(Q,L),Q.return=U,U=Q;break t}a(U,I);break}else n(U,I);I=I.sibling}L.type===Z?(Q=Qa(L.props.children,U.mode,Q,L.key),Q.return=U,U=Q):(Q=Cu(L.type,L.key,L.props,null,U.mode,Q),ol(Q,L),Q.return=U,U=Q)}return y(U);case G:t:{for(at=L.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){a(U,I.sibling),Q=c(I,L.children||[]),Q.return=U,U=Q;break t}else{a(U,I);break}else n(U,I);I=I.sibling}Q=Pc(L,U.mode,Q),Q.return=U,U=Q}return y(U);case b:return at=L._init,L=at(L._payload),Kt(U,I,L,Q)}if(ie(L))return pt(U,I,L,Q);if(O(L)){if(at=O(L),typeof at!="function")throw Error(r(150));return L=at.call(L),ft(U,I,L,Q)}if(typeof L.then=="function")return Kt(U,I,Gu(L),Q);if(L.$$typeof===ht)return Kt(U,I,Ou(U,L),Q);Qu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(a(U,I.sibling),Q=c(I,L),Q.return=U,U=Q):(a(U,I),Q=Lc(L,U.mode,Q),Q.return=U,U=Q),y(U)):a(U,I)}return function(U,I,L,Q){try{ul=0;var at=Kt(U,I,L,Q);return Hr=null,at}catch(rt){if(rt===Ws||rt===Mu)throw rt;var wt=rn(29,rt,null,U.mode);return wt.lanes=Q,wt.return=U,wt}finally{}}}var Gr=ig(!0),ag=ig(!1),An=K(null),Fn=null;function Gi(t){var n=t.alternate;J(Ee,Ee.current&1),J(An,t),Fn===null&&(n===null||Br.current!==null||n.memoizedState!==null)&&(Fn=t)}function rg(t){if(t.tag===22){if(J(Ee,Ee.current),J(An,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Qi()}function Qi(){J(Ee,Ee.current),J(An,An.current)}function Ti(t){et(An),Fn===t&&(Fn=null),et(Ee)}var Ee=K(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||lf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function yh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _h={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=on(),c=qi(l);c.payload=n,a!=null&&(c.callback=a),n=ji(t,c,l),n!==null&&(cn(n,t,l),el(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=on(),c=qi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ji(t,c,l),n!==null&&(cn(n,t,l),el(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=on(),l=qi(a);l.tag=2,n!=null&&(l.callback=n),n=ji(t,l,a),n!==null&&(cn(n,t,a),el(n,t,a))}};function sg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(a,l)||!Qs(c,f):!0}function lg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&_h.enqueueReplaceState(n,n.state,null)}function tr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ug(t){Fu(t)}function og(t){console.error(t)}function cg(t){Fu(t)}function Ku(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function hg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vh(t,n,a){return a=qi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(t,n)},a}function fg(t){return t=qi(t),t.tag=3,t}function dg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){hg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){hg(n,a,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function A0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Zs(n,a,c,!0),a=An.current,a!==null){switch(a.tag){case 13:return Fn===null?Hh():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Kc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Qh(t,l,c)),!1;case 22:return a.flags|=65536,l===Kc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Qh(t,l,c)),!1}throw Error(r(435,a.tag))}return Qh(t,l,c),Hh(),!1}if(Bt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(r(422),{cause:l}),Xs(_n(t,a)))):(l!==qc&&(n=Error(r(423),{cause:l}),Xs(_n(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,a),c=vh(t.stateNode,l,c),$c(t,c),se!==4&&(se=2)),!1;var f=Error(r(520),{cause:l});if(f=_n(f,a),pl===null?pl=[f]:pl.push(f),se!==4&&(se=2),n===null)return!0;l=_n(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=vh(a.stateNode,l,t),$c(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=fg(c),dg(c,t,a,l),$c(a,c),!1}a=a.return}while(a!==null);return!1}var mg=Error(r(461)),Ce=!1;function xe(t,n,a,l){n.child=t===null?ag(n,null,a,l):Gr(n,t.child,a,l)}function gg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return $a(n),l=nh(t,n,a,y,f,c),E=ih(),t!==null&&!Ce?(ah(t,n,c),Ai(t,n,c)):(Bt&&E&&Bc(n),n.flags|=1,xe(t,n,l,c),n.child)}function pg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!zc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yg(t,n,f,l,c)):(t=Cu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Qs,a(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function yg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return Eh(t,n,a,l,c)}function _g(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return vg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?ym(n,f):Wc(),rg(n);else return n.lanes=n.childLanes=536870912,vg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Nu(n,f.cachePool),ym(n,f),Qi(),n.memoizedState=null):(t!==null&&Nu(n,null),Wc(),Qi());return xe(t,n,c,a),n.child}function vg(t,n,a,l){var c=Fc();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Nu(n,null),Wc(),rg(n),t!==null&&Zs(t,n,l,!0),null}function Xu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Eh(t,n,a,l,c){return $a(n),a=nh(t,n,a,l,void 0,c),l=ih(),t!==null&&!Ce?(ah(t,n,c),Ai(t,n,c)):(Bt&&l&&Bc(n),n.flags|=1,xe(t,n,a,c),n.child)}function Eg(t,n,a,l,c,f){return $a(n),n.updateQueue=null,a=vm(n,l,a,c),_m(t),l=ih(),t!==null&&!Ce?(ah(t,n,f),Ai(t,n,f)):(Bt&&l&&Bc(n),n.flags|=1,xe(t,n,a,f),n.child)}function Tg(t,n,a,l,c){if($a(n),n.stateNode===null){var f=xr,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Xc(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):xr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(yh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&_h.enqueueReplaceState(f,f.state,null),il(n,l,f,c),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=tr(a,E);f.props=R;var P=f.context,H=a.contextType;y=xr,typeof H=="object"&&H!==null&&(y=qe(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&lg(n,f,l,y),ki=!1;var B=n.memoizedState;f.state=B,il(n,l,f,c),nl(),P=n.memoizedState,E||B!==P||ki?(typeof Y=="function"&&(yh(n,a,Y,l),P=n.memoizedState),(R=ki||sg(n,a,R,l,B,P,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Zc(t,n),y=n.memoizedProps,H=tr(a,y),f.props=H,Y=n.pendingProps,B=f.context,P=a.contextType,R=xr,typeof P=="object"&&P!==null&&(R=qe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==R)&&lg(n,f,l,R),ki=!1,B=n.memoizedState,f.state=B,il(n,l,f,c),nl();var k=n.memoizedState;y!==Y||B!==k||ki||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(yh(n,a,E,l),k=n.memoizedState),(H=ki||sg(n,a,H,l,B,k,R)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Gr(n,t.child,null,c),n.child=Gr(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function Ag(t,n,a,l){return Ks(),n.flags|=256,xe(t,n,a,l),n.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:om()}}function Sh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Sn),t}function Sg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Gi(n):Qi(),Bt){var E=re,R;if(R=E){t:{for(R=E,E=Yn;R.nodeType!==8;){if(!E){E=null;break t}if(R=On(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ya!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},R=rn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Xe=n,re=null,R=!0):R=!1}R||Xa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return lf(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=Zu({mode:"hidden",children:E},c),l=Qa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ah(a),c.childLanes=Sh(t,y,a),n.memoizedState=Th,l):(Gi(n),bh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Gi(n),n.flags&=-257,n=Rh(t,n,a)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=Zu({mode:"visible",children:l.children},E),c=Qa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Gr(n,t.child,null,a),l=n.child,l.memoizedState=Ah(a),l.childLanes=Sh(t,y,a),n.memoizedState=Th,n=c);else if(Gi(n),lf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(r(419)),l.stack="",l.digest=y,Xs({value:l,source:null,stack:null}),n=Rh(t,n,a)}else if(Ce||Zs(t,n,a,!1),y=(a&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=a&-a,l=(l&42)!==0?1:Ni(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Mr(t,l),cn(y,t,l),mg;E.data==="$?"||Hh(),n=Rh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,re=On(E.nextSibling),Xe=n,Bt=!0,Ka=null,Yn=!1,t!==null&&(En[Tn++]=pi,En[Tn++]=yi,En[Tn++]=Ya,pi=t.id,yi=t.overflow,Ya=n),n=bh(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=gi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=gi(P,c):(c=Qa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ah(a):(R=E.cachePool,R!==null?(P=ve._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=om(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Sh(t,y,a),n.memoizedState=Th,l):(Gi(n),a=t.child,t=a.sibling,a=gi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function bh(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=rn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rh(t,n,a){return Gr(n,t.child,null,a),t=bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function bg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Hc(t.return,n,a)}function wh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Rg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bg(t,a,n);else if(t.tag===19)bg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ee,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),wh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}wh(n,!0,a,null,f);break;case"together":wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Zs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=gi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=gi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function S0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Bi(n,ve,t.memoizedState.cache),Ks();break;case 27:case 5:Oi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Bi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sg(t,n,a):(Gi(n),t=Ai(t,n,a),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Zs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Rg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,_g(t,n,a);case 24:Bi(n,ve,t.memoizedState.cache)}return Ai(t,n,a)}function wg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Ch(t,a)&&(n.flags&128)===0)return Ce=!1,S0(t,n,a);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&nm(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")zc(l)?(t=tr(l,t),n.tag=1,n=Tg(null,n,l,t,a)):(n.tag=0,n=Eh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===It){n.tag=11,n=gg(null,n,l,t,a);break t}else if(c===x){n.tag=14,n=pg(null,n,l,t,a);break t}}throw n=Oe(l)||l,Error(r(306,n,""))}}return n;case 0:return Eh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=tr(l,n.pendingProps),Tg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Zc(t,n),il(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Bi(n,ve,l),l!==f.cache&&Gc(n,[ve],a,!0),nl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ag(t,n,l,a);break t}else if(l!==c){c=_n(Error(r(424)),n),Xs(c),n=Ag(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=On(t.firstChild),Xe=n,Bt=!0,Ka=null,Yn=!0,a=ag(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ks(),l===c){n=Ai(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return Xu(t,n),t===null?(a=Ip(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=co(yt.current).createElement(a),l[pe]=n,l[he]=t,ze(l,a,t),le(l),n.stateNode=l):n.memoizedState=Ip(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oi(n),t===null&&Bt&&(l=n.stateNode=Cp(n.type,n.pendingProps,yt.current),Xe=n,Yn=!0,c=re,ta(n.type)?(uf=c,re=On(l.firstChild)):re=c),xe(t,n,n.pendingProps.children,a),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=re)&&(l=$0(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Xe=n,re=On(l.firstChild),Yn=!1,c=!0):c=!1),c||Xa(n)),Oi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:y!==null&&af(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=nh(t,n,g0,null,null,a),Rl._currentValue=c),Xu(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=re)&&(a=J0(a,n.pendingProps,Yn),a!==null?(n.stateNode=a,Xe=n,re=null,t=!0):t=!1),t||Xa(n)),null;case 13:return Sg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Gr(n,null,l,a):xe(t,n,l,a),n.child;case 11:return gg(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Bi(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,$a(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return pg(t,n,n.type,n.pendingProps,a);case 15:return yg(t,n,n.type,n.pendingProps,a);case 19:return Rg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Zu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=gi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return _g(t,n,a);case 24:return $a(n),l=qe(ve),t===null?(c=Fc(),c===null&&(c=$t,f=Qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Xc(n),Bi(n,ve,c)):((t.lanes&a)!==0&&(Zc(t,n),il(n,null,null,a),nl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Bi(n,ve,l)):(l=f.cache,Bi(n,ve,l),l!==c.cache&&Gc(n,[ve],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Si(t){t.flags|=4}function Cg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Up(n)){if(n=An.current,n!==null&&((Mt&4194048)===Mt?Fn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Fn))throw tl=Kc,cm;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Cs():536870912,t.lanes|=n,Kr|=n)}function cl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function b0(t,n,a){var l=n.pendingProps;switch(kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(ve),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rm())),ee(n),null;case 26:return a=n.memoizedState,t===null?(Si(n),a!==null?(ee(n),Cg(n,a)):(ee(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Si(n),ee(n),Cg(n,a)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ee(n),n.flags&=-16777217),null;case 27:ni(n),a=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ee(n),null}t=ot.current,Fs(n)?im(n):(t=Cp(c,l,a),n.stateNode=t,Si(n))}return ee(n),null;case 5:if(ni(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ee(n),null}if(t=ot.current,Fs(n))im(n);else{switch(c=co(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[pe]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=yt.current,Fs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ep(t.nodeValue,a)),t||Xa(n)}else t=co(t).createTextNode(l),t[pe]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[pe]=n}else Ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=rm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&Jh(n.stateNode.containerInfo),ee(n),null;case 10:return vi(n.type),ee(n),null;case 19:if(et(Ee),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)cl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,cl(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)em(a,t),a=a.sibling;return J(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>to&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ee(n),null}else 2*fn()-c.renderingStartTime>to&&a!==536870912&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ee.current,J(Ee,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ti(n),th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&$u(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&et(Ja),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),vi(ve),ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function R0(t,n){switch(kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(ve),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ni(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ee),null;case 4:return xn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),th(),t!==null&&et(Ja),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(ve),null;case 25:return null;default:return null}}function Dg(t,n){switch(kc(n),n.tag){case 3:vi(ve),xn();break;case 26:case 27:case 5:ni(n);break;case 4:xn();break;case 13:Ti(n);break;case 19:et(Ee);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),th(),t!==null&&et(Ja);break;case 24:vi(ve)}}function hl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Yi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=a,P=E;try{P()}catch(H){Xt(c,R,H)}}}l=l.next}while(l!==f)}}catch(H){Xt(n,n.return,H)}}function Vg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{pm(n,a)}catch(l){Xt(t,t.return,l)}}}function Ig(t,n,a){a.props=tr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function fl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function Og(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Dh(t,n,a){try{var l=t.stateNode;Y0(l,t.type,a,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Ng(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ta(t.type)||t.tag===4}function Vh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ih(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ih(t,n,a),t=t.sibling;t!==null;)Ih(t,n,a),t=t.sibling}function Ju(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ju(t,n,a),t=t.sibling;t!==null;)Ju(t,n,a),t=t.sibling}function Mg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,a),n[pe]=t,n[he]=a}catch(f){Xt(t,t.return,f)}}var bi=!1,oe=!1,Oh=!1,xg=typeof WeakSet=="function"?WeakSet:Set,De=null;function w0(t,n){if(t=t.containerInfo,ef=yo,t=Qd(t),Vc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,P=0,H=0,Y=t,B=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(R=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===a&&++P===c&&(E=y),B===f&&++H===l&&(R=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(nf={focusedElem:t,selectionRange:a},yo=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pt=tr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)sf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Ug(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&hl(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var c=tr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}l&64&&Vg(a),l&512&&fl(a,a.return);break;case 3:if(Fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pm(t,n)}catch(y){Xt(a,a.return,y)}}break;case 27:n===null&&l&4&&Mg(a);case 26:case 5:Fi(t,a),n===null&&l&4&&Og(a),l&512&&fl(a,a.return);break;case 12:Fi(t,a);break;case 13:Fi(t,a),l&4&&Pg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=U0.bind(null,a),W0(t,a))));break;case 22:if(l=a.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||oe,c=bi;var f=oe;bi=l,(oe=n)&&!f?Ki(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),bi=c,oe=f}break;case 30:break;default:Fi(t,a)}}function zg(t){var n=t.alternate;n!==null&&(t.alternate=null,zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,$e=!1;function Ri(t,n,a){for(a=a.child;a!==null;)Lg(t,n,a),a=a.sibling}function Lg(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:oe||Kn(a,n),Ri(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:oe||Kn(a,n);var l=Wt,c=$e;ta(a.type)&&(Wt=a.stateNode,$e=!1),Ri(t,n,a),Tl(a.stateNode),Wt=l,$e=c;break;case 5:oe||Kn(a,n);case 6:if(l=Wt,c=$e,Wt=null,Ri(t,n,a),Wt=l,$e=c,Wt!==null)if($e)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{Wt.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:Wt!==null&&($e?(t=Wt,Rp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vl(t)):Rp(Wt,a.stateNode));break;case 4:l=Wt,c=$e,Wt=a.stateNode.containerInfo,$e=!0,Ri(t,n,a),Wt=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Yi(2,a,n),oe||Yi(4,a,n),Ri(t,n,a);break;case 1:oe||(Kn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ig(a,n,l)),Ri(t,n,a);break;case 21:Ri(t,n,a);break;case 22:oe=(l=oe)||a.memoizedState!==null,Ri(t,n,a),oe=l;break;default:Ri(t,n,a)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(a){Xt(n,n.return,a)}}function C0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xg),n;default:throw Error(r(435,t.tag))}}function Nh(t,n){var a=C0(t);n.forEach(function(l){var c=z0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ta(E.type)){Wt=E.stateNode,$e=!1;break t}break;case 5:Wt=E.stateNode,$e=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Wt===null)throw Error(r(160));Lg(f,y,c),Wt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Bg(n,t),n=n.sibling}var In=null;function Bg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),ln(t),l&4&&(Yi(3,t,t.return),hl(3,t),Yi(5,t,t.return));break;case 1:sn(n,t),ln(t),l&512&&(oe||a===null||Kn(a,a.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=In;if(sn(n,t),ln(t),l&512&&(oe||a===null||Kn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Va]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,a),f[pe]=t,le(f),l=f;break t;case"link":var y=Mp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Mp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[pe]=t,le(f),l=f}t.stateNode=l}else xp(c,t.type,t.stateNode);else t.stateNode=Np(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?xp(c,t.type,t.stateNode):Np(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dh(t,t.memoizedProps,a.memoizedProps)}break;case 27:sn(n,t),ln(t),l&512&&(oe||a===null||Kn(a,a.return)),a!==null&&l&4&&Dh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(sn(n,t),ln(t),l&512&&(oe||a===null||Kn(a,a.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(k){Xt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Dh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Oh=!0);break;case 6:if(sn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Xt(t,t.return,k)}}break;case 3:if(mo=null,c=In,In=ho(n.containerInfo),sn(n,t),In=c,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(k){Xt(t,t.return,k)}Oh&&(Oh=!1,kg(t));break;case 4:l=In,In=ho(t.stateNode.containerInfo),sn(n,t),ln(t),In=l;break;case 12:sn(n,t),ln(t);break;case 13:sn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ph=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=bi,H=oe;if(bi=P||c,oe=H||R,sn(n,t),oe=H,bi=P,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||bi||oe||er(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Xt(R,R.return,k)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Xt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nh(t,a))));break;case 19:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 30:break;case 21:break;default:sn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ng(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Vh(t);Ju(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(mn(y,""),a.flags&=-33);var E=Vh(t);Ju(t,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Vh(t);Ih(t,P,R);break;default:throw Error(r(161))}}catch(H){Xt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ug(t,n.alternate,n),n=n.sibling}function er(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),er(n);break;case 1:Kn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ig(n,n.return,a),er(n);break;case 27:Tl(n.stateNode);case 26:case 5:Kn(n,n.return),er(n);break;case 22:n.memoizedState===null&&er(n);break;case 30:er(n);break;default:er(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,a),hl(4,f);break;case 1:if(Ki(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)gm(R[c],E)}catch(P){Xt(l,l.return,P)}}a&&y&64&&Vg(f),fl(f,f.return);break;case 27:Mg(f);case 26:case 5:Ki(c,f,a),a&&l===null&&y&4&&Og(f),fl(f,f.return);break;case 12:Ki(c,f,a);break;case 13:Ki(c,f,a),a&&y&4&&Pg(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,a),fl(f,f.return);break;case 30:break;default:Ki(c,f,a)}n=n.sibling}}function Mh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$s(a))}function xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t))}function Xn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qg(t,n,a,l),n=n.sibling}function qg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,l),c&2048&&hl(9,n);break;case 1:Xn(t,n,a,l);break;case 3:Xn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t)));break;case 12:if(c&2048){Xn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Xn(t,n,a,l);break;case 13:Xn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,a,l):dl(t,n):f._visibility&2?Xn(t,n,a,l):(f._visibility|=2,Qr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Mh(y,n);break;case 24:Xn(t,n,a,l),c&2048&&xh(n.alternate,n);break;default:Xn(t,n,a,l)}}function Qr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,R=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Qr(f,y,E,R,c),hl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Qr(f,y,E,R,c):dl(f,y):(H._visibility|=2,Qr(f,y,E,R,c)),c&&P&2048&&Mh(y.alternate,y);break;case 24:Qr(f,y,E,R,c),c&&P&2048&&xh(y.alternate,y);break;default:Qr(f,y,E,R,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:dl(a,l),c&2048&&Mh(l.alternate,l);break;case 24:dl(a,l),c&2048&&xh(l.alternate,l);break;default:dl(a,l)}n=n.sibling}}var ml=8192;function Yr(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 26:Yr(t),t.flags&ml&&t.memoizedState!==null&&fE(In,t.memoizedState,t.memoizedProps);break;case 5:Yr(t);break;case 3:case 4:var n=In;In=ho(t.stateNode.containerInfo),Yr(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Yr(t),ml=n):Yr(t));break;default:Yr(t)}}function Hg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];De=l,Qg(l,t)}Hg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):gl(t);break;default:gl(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];De=l,Qg(l,t)}Hg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),Wu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function Qg(t,n){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:Yi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,De=l;else t:for(a=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(zg(l),l===a){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var D0={getCacheForType:function(t){var n=qe(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},V0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Ct=null,Mt=0,Gt=0,un=null,Xi=!1,Fr=!1,Uh=!1,wi=0,se=0,Zi=0,nr=0,zh=0,Sn=0,Kr=0,pl=null,Je=null,Lh=!1,Ph=0,to=1/0,eo=null,$i=null,Ue=0,Ji=null,Xr=null,Zr=0,Bh=0,kh=null,Yg=null,yl=0,qh=null;function on(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(j.T!==null){var t=Lr;return t!==0?t:Kh()}return Mi()}function Fg(){Sn===0&&(Sn=(Mt&536870912)===0||Bt?ws():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function cn(t,n,a){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&($r(t,0),Wi(t,Mt,Sn,!1)),ai(t,a),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(nr|=a),se===4&&Wi(t,Mt,Sn,!1)),Zn(t))}function Kg(t,n,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Da(t,n),c=l?N0(t,n):Gh(t,n,!0),f=l;do{if(c===0){Fr&&!l&&Wi(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!I0(a)){c=Gh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var R=E.current.memoizedState.isDehydrated;if(R&&($r(E,y).flags|=256),y=Gh(E,y,!1),y!==2){if(Uh&&!R){E.errorRecoveryDisabledLanes|=f,nr|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){$r(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,Sn,!Xi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Ph+300-fn(),10<c)){if(Wi(l,n,Sn,!Xi),mr(l,0,!0)!==0)break t;l.timeoutHandle=Sp(Xg.bind(null,l,a,Je,eo,Lh,n,Sn,nr,Kr,Xi,f,2,-0,0),c);break t}Xg(l,a,Je,eo,Lh,n,Sn,nr,Kr,Xi,f,0,-0,0)}}break}while(!0);Zn(t)}function Xg(t,n,a,l,c,f,y,E,R,P,H,Y,B,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:hE},jg(n),Y=dE(),Y!==null)){t.cancelPendingCommit=Y(np.bind(null,t,n,f,a,l,c,y,E,R,H,1,B,k)),Wi(t,f,y,!P);return}np(t,n,f,a,l,c,y,E,R)}function I0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,a,l){n&=~zh,n&=~nr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Un(t,a,n)}function no(){return(Ht&6)===0?(_l(0),!1):!0}function jh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,_i=Za=null,rh(t),Hr=null,ul=0,t=Ct;for(;t!==null;)Dg(t.alternate,t),t=t.return;Ct=null}}function $r(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,K0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jh(),$t=t,Ct=a=gi(t.current,null),Mt=n,Gt=0,un=null,Xi=!1,Fr=Da(t,n),Uh=!1,Kr=Sn=zh=nr=Zi=se=0,Je=pl=null,Lh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return wi=n,bu(),a}function Zg(t,n){St=null,j.H=Hu,n===Ws||n===Mu?(n=dm(),Gt=3):n===cm?(n=dm(),Gt=4):Gt=n===mg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Ct===null&&(se=1,Ku(t,_n(n,t.current)))}function $g(){var t=j.H;return j.H=Hu,t===null?Hu:t}function Jg(){var t=j.A;return j.A=D0,t}function Hh(){se=4,Xi||(Mt&4194048)!==Mt&&An.current!==null||(Fr=!0),(Zi&134217727)===0&&(nr&134217727)===0||$t===null||Wi($t,Mt,Sn,!1)}function Gh(t,n,a){var l=Ht;Ht|=2;var c=$g(),f=Jg();($t!==t||Mt!==n)&&(eo=null,$r(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,R=un;switch(Gt){case 8:jh(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Gt;if(Gt=0,un=null,Jr(t,E,R,P),a&&Fr){y=0;break t}break;default:P=Gt,Gt=0,un=null,Jr(t,E,R,P)}}O0(),y=se;break}catch(H){Zg(t,H)}while(!0);return n&&t.shellSuspendCounter++,_i=Za=null,Ht=l,j.H=c,j.A=f,Ct===null&&($t=null,Mt=0,bu()),y}function O0(){for(;Ct!==null;)Wg(Ct)}function N0(t,n){var a=Ht;Ht|=2;var l=$g(),c=Jg();$t!==t||Mt!==n?(eo=null,to=fn()+500,$r(t,n)):Fr=Da(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=un;e:switch(Gt){case 1:Gt=0,un=null,Jr(t,n,f,1);break;case 2:case 9:if(hm(f)){Gt=0,un=null,tp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:hm(f)?(Gt=0,un=null,tp(n)):(Gt=0,un=null,Jr(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||Up(y)){Gt=0,un=null;var R=E.sibling;if(R!==null)Ct=R;else{var P=E.return;P!==null?(Ct=P,io(P)):Ct=null}break e}}Gt=0,un=null,Jr(t,n,f,5);break;case 6:Gt=0,un=null,Jr(t,n,f,6);break;case 8:jh(),se=6;break t;default:throw Error(r(462))}}M0();break}catch(H){Zg(t,H)}while(!0);return _i=Za=null,j.H=l,j.A=c,Ht=a,Ct!==null?0:($t=null,Mt=0,bu(),se)}function M0(){for(;Ct!==null&&!As();)Wg(Ct)}function Wg(t){var n=wg(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?io(t):Ct=n}function tp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Eg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Eg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:rh(n);default:Dg(a,n),n=Ct=em(n,wi),n=wg(a,n,wi)}t.memoizedProps=t.pendingProps,n===null?io(t):Ct=n}function Jr(t,n,a,l){_i=Za=null,rh(n),Hr=null,ul=0;var c=n.return;try{if(A0(t,c,n,a,Mt)){se=1,Ku(t,_n(a,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;se=1,Ku(t,_n(a,t.current)),Ct=null;return}n.flags&32768?(Bt||l===1?t=!0:Fr||(Mt&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),ep(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){ep(n,Xi);return}t=n.return;var a=b0(n.alternate,n,wi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);se===0&&(se=5)}function ep(t,n){do{var a=R0(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);se=6,Ct=null}function np(t,n,a,l,c,f,y,E,R){t.cancelPendingCommit=null;do ao();while(Ue!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=xc,Ds(t,a,f,y,E,R),t===$t&&(Ct=$t=null,Mt=0),Xr=n,Ji=t,Zr=a,Bh=f,kh=c,Yg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,L0(ba,function(){return lp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{w0(t,n,a)}finally{Ht=y,tt.p=c,j.T=l}}Ue=1,ip(),ap(),rp()}}function ip(){if(Ue===1){Ue=0;var t=Ji,n=Xr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Bg(n,t);var f=nf,y=Qd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Gd(E.ownerDocument.documentElement,E)){if(R!==null&&Vc(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),pt=E.textContent.length,ft=Math.min(R.start,pt),Kt=R.end===void 0?ft:Math.min(R.end,pt);!k.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var U=Hd(E,ft),I=Hd(E,Kt);if(U&&I&&(k.rangeCount!==1||k.anchorNode!==U.node||k.anchorOffset!==U.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var L=Y.createRange();L.setStart(U.node,U.offset),k.removeAllRanges(),ft>Kt?(k.addRange(L),k.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),k.addRange(L))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yo=!!ef,nf=ef=null}finally{Ht=c,tt.p=l,j.T=a}}t.current=n,Ue=2}}function ap(){if(Ue===2){Ue=0;var t=Ji,n=Xr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Ug(t,n.alternate,n)}finally{Ht=c,tt.p=l,j.T=a}}Ue=3}}function rp(){if(Ue===4||Ue===3){Ue=0,Wl();var t=Ji,n=Xr,a=Zr,l=Yg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Xr=Ji=null,sp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),gr(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=tt.p,tt.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=c}}(Zr&3)!==0&&ao(),Zn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===qh?yl++:(yl=0,qh=t):yl=0,_l(0)}}function sp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$s(n)))}function ao(t){return ip(),ap(),rp(),lp()}function lp(){if(Ue!==5)return!1;var t=Ji,n=Bh;Bh=0;var a=gr(Zr),l=j.T,c=tt.p;try{tt.p=32>a?32:a,j.T=null,a=kh,kh=null;var f=Ji,y=Zr;if(Ue=0,Xr=Ji=null,Zr=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,Gg(f.current),qg(f,f.current,y,a),Ht=E,_l(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{tt.p=c,j.T=l,sp(t,n)}}function up(t,n,a){n=_n(a,n),n=vh(t.stateNode,n,2),t=ji(t,n,2),t!==null&&(ai(t,2),Zn(t))}function Xt(t,n,a){if(t.tag===3)up(t,t,a);else for(;n!==null;){if(n.tag===3){up(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=_n(a,t),a=fg(2),l=ji(n,a,2),l!==null&&(dg(a,l,n,t),ai(l,2),Zn(l));break}}n=n.return}}function Qh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new V0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Uh=!0,c.add(a),t=x0.bind(null,t,n,a),n.then(t,t))}function x0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Mt&a)===a&&(se===4||se===3&&(Mt&62914560)===Mt&&300>fn()-Ph?(Ht&2)===0&&$r(t,0):zh|=a,Kr===Mt&&(Kr=0)),Zn(t)}function op(t,n){n===0&&(n=Cs()),t=Mr(t,n),t!==null&&(ai(t,n),Zn(t))}function U0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),op(t,a)}function z0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),op(t,a)}function L0(t,n){return Aa(t,n)}var ro=null,Wr=null,Yh=!1,so=!1,Fh=!1,ir=0;function Zn(t){t!==Wr&&t.next===null&&(Wr===null?ro=Wr=t:Wr=Wr.next=t),so=!0,Yh||(Yh=!0,B0())}function _l(t,n){if(!Fh&&so){Fh=!0;do for(var a=!1,l=ro;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,dp(l,f))}else f=Mt,f=mr(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Da(l,f)||(a=!0,dp(l,f));l=l.next}while(a);Fh=!1}}function P0(){cp()}function cp(){so=Yh=!1;var t=0;ir!==0&&(F0()&&(t=ir),ir=0);for(var n=fn(),a=null,l=ro;l!==null;){var c=l.next,f=hp(l,n);f===0?(l.next=null,a===null?ro=c:a.next=c,c===null&&(Wr=a)):(a=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}_l(t)}function hp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,R=c[y];R===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Rs(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Mt,a=mr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Da(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Sa(l),gr(a)){case 2:case 8:a=fr;break;case 32:a=ba;break;case 268435456:a=dr;break;default:a=ba}return l=fp.bind(null,t),a=Aa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Sa(l),t.callbackPriority=2,t.callbackNode=null,2}function fp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ao()&&t.callbackNode!==a)return null;var l=Mt;return l=mr(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Kg(t,l,n),hp(t,fn()),t.callbackNode!=null&&t.callbackNode===a?fp.bind(null,t):null)}function dp(t,n){if(ao())return null;Kg(t,n,!0)}function B0(){X0(function(){(Ht&6)!==0?Aa(Ss,P0):cp()})}function Kh(){return ir===0&&(ir=ws()),ir}function mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Tr(""+t)}function gp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function k0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=mp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?mp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ar("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var R=y?gp(c,y):new FormData(c);mh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?gp(c,y):new FormData(c),mh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Xh=0;Xh<Mc.length;Xh++){var Zh=Mc[Xh],q0=Zh.toLowerCase(),j0=Zh[0].toUpperCase()+Zh.slice(1);Vn(q0,"on"+j0)}Vn(Kd,"onAnimationEnd"),Vn(Xd,"onAnimationIteration"),Vn(Zd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(r0,"onTransitionRun"),Vn(s0,"onTransitionStart"),Vn(l0,"onTransitionCancel"),Vn($d,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function pp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Fu(H)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Fu(H)}c.currentTarget=null,f=R}}}}function Dt(t,n){var a=n[Is];a===void 0&&(a=n[Is]=new Set);var l=t+"__bubble";a.has(l)||(yp(n,t,2,!1),a.add(l))}function $h(t,n,a){var l=0;n&&(l|=4),yp(a,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[lo]){t[lo]=!0,Os.forEach(function(a){a!=="selectionchange"&&(H0.has(a)||$h(a,!1,t),$h(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,$h("selectionchange",!1,n))}}function yp(t,n,a,l){switch(qp(n)){case 2:var c=pE;break;case 8:c=yE;break;default:c=df}a=c.bind(null,n,a,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Wh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ri(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var P=f,H=gn(a),Y=[];t:{var B=Jd.get(t);if(B!==void 0){var k=Ar,pt=t;switch(t){case"keypress":if(qn(a)===0)break t;case"keydown":case"keyup":k=Dr;break;case"focusin":pt="focus",k=Rr;break;case"focusout":pt="blur",k=Rr;break;case"beforeblur":case"afterblur":k=Rr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=yu;break;case Kd:case Xd:case Zd:k=wr;break;case $d:k=vu;break;case"scroll":case"scrollend":k=cu;break;case"wheel":k=Vr;break;case"copy":case"cut":case"paste":k=Cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Hs;break;case"toggle":case"beforetoggle":k=Tu}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),U=ft?B!==null?B+"Capture":null:B;ft=[];for(var I=P,L;I!==null;){var Q=I;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||U===null||(Q=za(I,U),Q!=null&&ft.push(El(I,Q,L))),Kt)break;I=I.return}0<ft.length&&(B=new k(B,pt,null,a,H),Y.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==oi&&(pt=a.relatedTarget||a.fromElement)&&(ri(pt)||pt[dn]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(pt=a.relatedTarget||a.toElement,k=P,pt=pt?ri(pt):null,pt!==null&&(Kt=h(pt),ft=pt.tag,pt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(pt=null)):(k=null,pt=P),k!==pt)){if(ft=yn,Q="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Hs,Q="onPointerLeave",U="onPointerEnter",I="pointer"),Kt=k==null?B:Ln(k),L=pt==null?B:Ln(pt),B=new ft(Q,I+"leave",k,a,H),B.target=Kt,B.relatedTarget=L,Q=null,ri(H)===P&&(ft=new ft(U,I+"enter",pt,a,H),ft.target=L,ft.relatedTarget=Kt,Q=ft),Kt=Q,k&&pt)e:{for(ft=k,U=pt,I=0,L=ft;L;L=ts(L))I++;for(L=0,Q=U;Q;Q=ts(Q))L++;for(;0<I-L;)ft=ts(ft),I--;for(;0<L-I;)U=ts(U),L--;for(;I--;){if(ft===U||U!==null&&ft===U.alternate)break e;ft=ts(ft),U=ts(U)}ft=null}else ft=null;k!==null&&_p(Y,B,k,ft,!1),pt!==null&&Kt!==null&&_p(Y,Kt,pt,ft,!0)}}t:{if(B=P?Ln(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=Ld;else if(_e(B))if(Pd)at=n0;else{at=t0;var wt=Wv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&zs(P.elementType)&&(at=Ld):at=e0;if(at&&(at=at(t,P))){mi(Y,at,a,H);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Li(B,"number",B.value)}switch(wt=P?Ln(P):window,t){case"focusin":(_e(wt)||wt.contentEditable==="true")&&(Ir=wt,Ic=P,Ys=null);break;case"focusout":Ys=Ic=Ir=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Yd(Y,a,H);break;case"selectionchange":if(a0)break;case"keydown":case"keyup":Yd(Y,a,H)}var rt;if(Gn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Ot?q(t,a)&&(dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(g&&a.locale!=="ko"&&(Ot||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ot&&(rt=Ps()):(kn=H,Pi="value"in kn?kn.value:kn.textContent,Ot=!0)),wt=uo(P,dt),0<wt.length&&(dt=new qs(dt,t,null,a,H),Y.push({event:dt,listeners:wt}),rt?dt.data=rt:(rt=W(a),rt!==null&&(dt.data=rt)))),(rt=m?ye(t,a):Nt(t,a))&&(dt=uo(P,"onBeforeInput"),0<dt.length&&(wt=new qs("onBeforeInput","beforeinput",null,a,H),Y.push({event:wt,listeners:dt}),wt.data=rt)),k0(Y,t,P,a,H)}pp(Y,n)})}function El(t,n,a){return{instance:t,listener:n,currentTarget:a}}function uo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=za(t,a),c!=null&&l.unshift(El(t,c,f)),c=za(t,n),c!=null&&l.push(El(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _p(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=za(a,f),P!=null&&y.unshift(El(a,P,R))):c||(P=za(a,f),P!=null&&y.push(El(a,P,R)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var G0=/\r\n?/g,Q0=/\u0000|\uFFFD/g;function vp(t){return(typeof t=="string"?t:""+t).replace(G0,`
`).replace(Q0,"")}function Ep(t,n){return n=vp(n),vp(t)===n}function oo(){}function Ft(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":Us(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Tr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Tr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Tr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sc.get(a)||a,zi(t,a,l))}}function tf(t,n,a,l,c,f){switch(a){case"style":Us(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[he]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):zi(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ft(t,n,f,y,a,null)}}c&&Ft(t,n,"srcSet",a.srcSet,a,null),l&&Ft(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Ft(t,n,l,H,a,null)}}Ma(t,f,E,R,P,y,c,!1),Er(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?ui(t,!!l,n,!1):a!=null&&ui(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ft(t,n,y,E,a,null)}xa(t,l,c,f),Er(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,R,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Dt(vl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ft(t,n,P,l,a,null)}return;default:if(zs(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&tf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,n,E,l,a,null))}function Y0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,P=null,H=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(k)||Ft(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==Y&&Ft(t,n,B,k,l,Y)}}nn(t,y,E,R,P,H,f,c);return;case"select":k=y=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Ft(t,n,c,f,l,R)}n=E,a=y,l=k,B!=null?ui(t,!!a,B,!1):!!l!=!!a&&(n!=null?ui(t,!!a,n,!0):ui(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var pt in a)if(B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Ft(t,n,pt,null,l,B)}for(R in l)if(B=l[R],k=a[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Ft(t,n,ft,null,l,B);for(P in l)if(B=l[P],k=a[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Ft(t,n,P,B,l,k)}return;default:if(zs(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&tf(t,n,Kt,void 0,l,B);for(H in l)B=l[H],k=a[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||tf(t,n,H,B,l,k);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Ft(t,n,U,null,l,B);for(Y in l)B=l[Y],k=a[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||Ft(t,n,Y,B,l,k)}var ef=null,nf=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function Tp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ap(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rf=null;function F0(){var t=window.event;return t&&t.type==="popstate"?t===rf?!1:(rf=t,!0):(rf=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,K0=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,X0=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(t){return bp.resolve(null).then(t).catch(Z0)}:Sp;function Z0(t){setTimeout(function(){throw t})}function ta(t){return t==="head"}function Rp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Tl(y.documentElement),a&2&&Tl(y.body),a&4)for(a=y.head,Tl(a),y=a.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Va]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Vl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Vl(n)}function sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sf(a),Ui(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Va])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function J0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function W0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var uf=null;function wp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Cp(t,n,a){switch(n=co(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var bn=new Map,Dp=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=tt.d;tt.d={f:tE,r:eE,D:nE,C:iE,L:aE,m:rE,X:lE,S:sE,M:uE};function tE(){var t=Ci.f(),n=no();return t||n}function eE(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Km(n):Ci.r(t)}var es=typeof document>"u"?null:document;function Vp(t,n,a){var l=es;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Dp.has(c)||(Dp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function nE(t){Ci.D(t),Vp("dns-prefetch",t,null)}function iE(t,n){Ci.C(t,n),Vp("preconnect",t,n)}function aE(t,n,a){Ci.L(t,n,a);var l=es;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+fe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+fe(a.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=ns(t);break;case"script":f=is(t)}bn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function rE(t,n){Ci.m(t,n);var a=es;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=is(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},n),bn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}l=a.createElement("link"),ze(l,"link",t),le(l),a.head.appendChild(l)}}}function sE(t,n,a){Ci.S(t,n,a);var l=es;if(l&&t){var c=Ye(l).hoistableStyles,f=ns(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=bn.get(f))&&of(t,a);var R=y=l.createElement("link");le(R),ze(R,"link",t),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function lE(t,n){Ci.X(t,n);var a=es;if(a&&t){var l=Ye(a).hoistableScripts,c=is(t),f=l.get(c);f||(f=a.querySelector(Sl(c)),f||(t=A({src:t,async:!0},n),(n=bn.get(c))&&cf(t,n),f=a.createElement("script"),le(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function uE(t,n){Ci.M(t,n);var a=es;if(a&&t){var l=Ye(a).hoistableScripts,c=is(t),f=l.get(c);f||(f=a.querySelector(Sl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&cf(t,n),f=a.createElement("script"),le(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Ip(t,n,a,l){var c=(c=yt.current)?ho(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ns(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ns(a.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(t,a),f||oE(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=is(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ns(t){return'href="'+fe(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function Op(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function oE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),le(n),t.head.appendChild(n))}function is(t){return'[src="'+fe(t)+'"]'}function Sl(t){return"script[async]"+t}function Np(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(a.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),fo(l,a.precedence,t),n.instance=l;case"stylesheet":c=ns(a.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Op(a),(c=bn.get(c))&&of(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",l),n.state.loading|=4,fo(f,a.precedence,t),n.instance=f;case"script":return f=is(a.src),(c=t.querySelector(Sl(f)))?(n.instance=c,le(c),c):(l=a,(c=bn.get(f))&&(l=A({},a),cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,a.precedence,t));return n.instance}function fo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Mp(t,n,a){if(mo===null){var l=new Map,c=mo=new Map;c.set(a,l)}else c=mo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Va]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function xp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function cE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Up(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function hE(){}function fE(t,n,a){if(bl===null)throw Error(r(475));var l=bl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ns(a.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,a=Op(a),(c=bn.get(c))&&of(a,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function dE(){if(bl===null)throw Error(r(475));var t=bl;return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(mE,t),po=null,go.call(t))}function mE(t,n){if(!(n.state.loading&4)){var a=po.get(t);if(a)var l=a.get(null);else{a=new Map,po.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function gE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function zp(t,n,a,l,c,f,y,E,R,P,H,Y){return t=new gE(t,n,a,y,E,R,P,Y),n=1,f===!0&&(n|=24),f=rn(3,null,null,n),t.current=f,f.stateNode=t,n=Qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Xc(f),t}function Lp(t){return t?(t=xr,t):xr}function Pp(t,n,a,l,c,f){c=Lp(c),l.context===null?l.context=c:l.pendingContext=c,l=qi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ji(t,l,n),a!==null&&(cn(a,t,n),el(a,t,n))}function Bp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function ff(t,n){Bp(t,n),(t=t.alternate)&&Bp(t,n)}function kp(t){if(t.tag===13){var n=Mr(t,67108864);n!==null&&cn(n,t,67108864),ff(t,67108864)}}var yo=!0;function pE(t,n,a,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=2,df(t,n,a,l)}finally{tt.p=f,j.T=c}}function yE(t,n,a,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=8,df(t,n,a,l)}finally{tt.p=f,j.T=c}}function df(t,n,a,l){if(yo){var c=mf(l);if(c===null)Wh(t,n,l,_o,a),jp(t,l);else if(vE(c,t,n,a,l))l.stopPropagation();else if(jp(t,l),n&4&&-1<_E.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=wn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-ke(y);E.entanglements[1]|=R,y&=~R}Zn(f),(Ht&6)===0&&(to=fn()+500,_l(0))}}break;case 13:E=Mr(f,2),E!==null&&cn(E,f,2),no(),ff(f,2)}if(f=mf(l),f===null&&Wh(t,n,l,_o,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Wh(t,n,l,null,a)}}function mf(t){return t=gn(t),gf(t)}var _o=null;function gf(t){if(_o=null,t=ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function qp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yc()){case Ss:return 2;case fr:return 8;case ba:case _c:return 32;case dr:return 268435456;default:return 32}default:return 32}}var pf=!1,ea=null,na=null,ia=null,wl=new Map,Cl=new Map,aa=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jp(t,n){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Dl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&kp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function vE(t,n,a,l,c){switch(n){case"focusin":return ea=Dl(ea,t,n,a,l,c),!0;case"dragenter":return na=Dl(na,t,n,a,l,c),!0;case"mouseover":return ia=Dl(ia,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Dl(wl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Dl(Cl.get(f)||null,t,n,a,l,c)),!0}return!1}function Hp(t){var n=ri(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,nu(t.priority,function(){if(a.tag===13){var l=on();l=Ni(l);var c=Mr(a,l);c!==null&&cn(c,a,l),ff(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=mf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);oi=l,a.target.dispatchEvent(l),oi=null}else return n=zn(a),n!==null&&kp(n),t.blockedOn=a,!1;n.shift()}return!0}function Gp(t,n,a){vo(t)&&a.delete(n)}function EE(){pf=!1,ea!==null&&vo(ea)&&(ea=null),na!==null&&vo(na)&&(na=null),ia!==null&&vo(ia)&&(ia=null),wl.forEach(Gp),Cl.forEach(Gp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,EE)))}var To=null;function Qp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(gf(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(n,3),n-=3,mh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Vl(t){function n(R){return Eo(R,t)}ea!==null&&Eo(ea,t),na!==null&&Eo(na,t),ia!==null&&Eo(ia,t),wl.forEach(n),Cl.forEach(n);for(var a=0;a<aa.length;a++){var l=aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<aa.length&&(a=aa[0],a.blockedOn===null);)Hp(a),a.blockedOn===null&&aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[he]||null;if(typeof f=="function")y||Qp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(gf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Qp(a)}}}function yf(t){this._internalRoot=t}Ao.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=on();Pp(a,l,t,n,null,null)},Ao.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Pp(t.current,2,null,t,null,null),no(),n[dn]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<aa.length&&n!==0&&n<aa[a].priority;a++);aa.splice(a,0,t),a===0&&Hp(t)}};var Yp=e.version;if(Yp!=="19.1.0")throw Error(r(527,Yp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var TE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{ae=So.inject(TE),jt=So}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=ug,f=og,y=cg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=zp(t,1,!1,null,null,a,l,c,f,y,E,null),t[dn]=n.current,Jh(t),new yf(n)},Ol.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=ug,y=og,E=cg,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=zp(t,1,!0,n,a??null,l,c,f,y,E,R,P),n.context=Lp(null),a=n.current,l=on(),l=Ni(l),c=qi(l),c.callback=null,ji(a,c,l),a=l,n.current.lanes=a,ai(n,a),Zn(n),t[dn]=n.current,Jh(t),new Ao(n)},Ol.version="19.1.0",Ol}var ny;function NE(){if(ny)return Ef.exports;ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=OE(),Ef.exports}var ME=NE();const xE=m_(ME),UE=()=>{};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},zE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},p_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,M=(h&3)<<4|p>>4;let N=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(N=64)),r.push(i[A],i[M],i[N],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(g_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):zE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const M=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||_==null||M==null)throw new LE;const N=h<<2|p>>4;if(r.push(N),_!==64){const G=p<<4&240|_>>2;if(r.push(G),M!==64){const Z=_<<6&192|M;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class LE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PE=function(s){const e=g_(s);return p_.encodeByteArray(e,!0)},Po=function(s){return PE(s).replace(/\./g,"")},BE=function(s){try{return p_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=()=>kE().__FIREBASE_DEFAULTS__,jE=()=>{if(typeof process>"u"||typeof iy>"u")return;const s=iy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},HE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&BE(s[1]);return e&&JSON.parse(e)},nd=()=>{try{return UE()||qE()||jE()||HE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},GE=s=>{var e,i;return(i=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},QE=s=>{const e=GE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},y_=()=>{var s;return(s=nd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s){return s.endsWith(".cloudworkstations.dev")}async function FE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Po(JSON.stringify(i)),Po(JSON.stringify(d)),""].join(".")}const Ul={};function XE(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function ZE(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let ay=!1;function $E(s,e){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||Ul[s]===e||Ul[s]||ay)return;Ul[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=XE().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{ay=!0,d()},N}function A(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function M(){const N=ZE(r),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),$=document.getElementById(nt)||document.createElement("a"),At=i("preprendIcon"),mt=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ht=N.element;p(ht),A($,nt);const It=_();v(mt,At),ht.append(mt,Z,$,It),document.body.appendChild(ht)}h?(Z.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WE(){var s;const e=(s=nd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tT(){return!WE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eT(){try{return typeof indexedDB=="object"}catch{return!1}}function nT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="FirebaseError";class ys extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=iT,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,__.prototype.create)}}class __{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?aT(h,r):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new ys(u,p,r)}}function aT(s,e){return s.replace(rT,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const rT=/\{\$([^}]+)}/g;function Bo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(ry(h)&&ry(d)){if(!Bo(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function ry(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(s){return s&&s._delegate?s._delegate:s}class kl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new YE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uT(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rr){return this.instances.has(e)}getOptions(e=rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(u)}return u}onInit(e,i){var r;const u=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rr){return this.component?this.component.multipleInstances?e:rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lT(s){return s===rr?void 0:s}function uT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new sT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const cT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},hT=Ut.INFO,fT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},dT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=fT[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v_{constructor(e){this.name=e,this._logLevel=hT,this._logHandler=dT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const mT=(s,e)=>e.some(i=>s instanceof i);let sy,ly;function gT(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pT(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,Mf=new WeakMap,T_=new WeakMap,bf=new WeakMap,ad=new WeakMap;function yT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(la(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&E_.set(i,s)}).catch(()=>{}),ad.set(e,s),e}function _T(s){if(Mf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Mf.set(s,e)}let xf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Mf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||T_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return la(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function vT(s){xf=s(xf)}function ET(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Rf(this),e,...i);return T_.set(r,e.sort?e.sort():[e]),la(r)}:pT().includes(s)?function(...e){return s.apply(Rf(this),e),la(E_.get(this))}:function(...e){return la(s.apply(Rf(this),e))}}function TT(s){return typeof s=="function"?ET(s):(s instanceof IDBTransaction&&_T(s),mT(s,gT())?new Proxy(s,xf):s)}function la(s){if(s instanceof IDBRequest)return yT(s);if(bf.has(s))return bf.get(s);const e=TT(s);return e!==s&&(bf.set(s,e),ad.set(e,s)),e}const Rf=s=>ad.get(s);function AT(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=la(d);return r&&d.addEventListener("upgradeneeded",v=>{r(la(d.result),v.oldVersion,v.newVersion,la(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const ST=["get","getKey","getAll","getAllKeys","count"],bT=["put","add","delete","clear"],wf=new Map;function uy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=bT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||ST.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),u&&v.done]))[0]};return wf.set(e,h),h}vT(s=>({...s,get:(e,i,r)=>uy(e,i)||s.get(e,i,r),has:(e,i)=>!!uy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(wT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function wT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uf="@firebase/app",oy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new v_("@firebase/app"),CT="@firebase/app-compat",DT="@firebase/analytics-compat",VT="@firebase/analytics",IT="@firebase/app-check-compat",OT="@firebase/app-check",NT="@firebase/auth",MT="@firebase/auth-compat",xT="@firebase/database",UT="@firebase/data-connect",zT="@firebase/database-compat",LT="@firebase/functions",PT="@firebase/functions-compat",BT="@firebase/installations",kT="@firebase/installations-compat",qT="@firebase/messaging",jT="@firebase/messaging-compat",HT="@firebase/performance",GT="@firebase/performance-compat",QT="@firebase/remote-config",YT="@firebase/remote-config-compat",FT="@firebase/storage",KT="@firebase/storage-compat",XT="@firebase/firestore",ZT="@firebase/ai",$T="@firebase/firestore-compat",JT="firebase",WT="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",t1={[Uf]:"fire-core",[CT]:"fire-core-compat",[VT]:"fire-analytics",[DT]:"fire-analytics-compat",[OT]:"fire-app-check",[IT]:"fire-app-check-compat",[NT]:"fire-auth",[MT]:"fire-auth-compat",[xT]:"fire-rtdb",[UT]:"fire-data-connect",[zT]:"fire-rtdb-compat",[LT]:"fire-fn",[PT]:"fire-fn-compat",[BT]:"fire-iid",[kT]:"fire-iid-compat",[qT]:"fire-fcm",[jT]:"fire-fcm-compat",[HT]:"fire-perf",[GT]:"fire-perf-compat",[QT]:"fire-rc",[YT]:"fire-rc-compat",[FT]:"fire-gcs",[KT]:"fire-gcs-compat",[XT]:"fire-fst",[$T]:"fire-fst-compat",[ZT]:"fire-vertex","fire-js":"fire-js",[JT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Map,e1=new Map,Lf=new Map;function cy(s,e){try{s.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function qo(s){const e=s.name;if(Lf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Lf.set(e,s);for(const i of ko.values())cy(i,s);for(const i of e1.values())cy(i,s);return!0}function n1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function i1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new __("app","Firebase",a1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=WT;function A_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zf,automaticDataCollectionEnabled:!0},e),u=r.name;if(typeof u!="string"||!u)throw ua.create("bad-app-name",{appName:String(u)});if(i||(i=y_()),!i)throw ua.create("no-options");const h=ko.get(u);if(h){if(Bo(i,h.options)&&Bo(r,h.config))return h;throw ua.create("duplicate-app",{appName:u})}const d=new oT(u);for(const v of Lf.values())d.addComponent(v);const p=new r1(i,r,d);return ko.set(u,p),p}function l1(s=zf){const e=ko.get(s);if(!e&&s===zf&&y_())return A_();if(!e)throw ua.create("no-app",{appName:s});return e}function us(s,e,i){var r;let u=(r=t1[s])!==null&&r!==void 0?r:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(p.join(" "));return}qo(new kl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebase-heartbeat-database",o1=1,ql="firebase-heartbeat-store";let Cf=null;function S_(){return Cf||(Cf=AT(u1,o1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw ua.create("idb-open",{originalErrorMessage:s.message})})),Cf}async function c1(s){try{const i=(await S_()).transaction(ql),r=await i.objectStore(ql).get(b_(s));return await i.done,r}catch(e){if(e instanceof ys)Di.warn(e.message);else{const i=ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(i.message)}}}async function hy(s,e){try{const r=(await S_()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,b_(s)),await r.done}catch(i){if(i instanceof ys)Di.warn(i.message);else{const r=ua.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Di.warn(r.message)}}}function b_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=1024,f1=30;class d1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new g1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=fy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>f1){const d=p1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=fy(),{heartbeatsToSend:r,unsentEntries:u}=m1(this._heartbeatsCache.heartbeats),h=Po(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Di.warn(i),""}}}function fy(){return new Date().toISOString().substring(0,10)}function m1(s,e=h1){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),dy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),dy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class g1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eT()?nT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await c1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return hy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return hy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function dy(s){return Po(JSON.stringify({version:2,heartbeats:s})).length}function p1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(s){qo(new kl("platform-logger",e=>new RT(e),"PRIVATE")),qo(new kl("heartbeat",e=>new d1(e),"PRIVATE")),us(Uf,oy,s),us(Uf,oy,"esm2017"),us("fire-js","")}y1("");var _1="firebase",v1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(_1,v1,"app");var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,R_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function S(){}S.prototype=b.prototype,x.D=b.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(D,C,O){for(var w=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)w[Oe-2]=arguments[Oe];return b.prototype[C].apply(D,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(x,b,S){S||(S=0);var D=Array(16);if(typeof b=="string")for(var C=0;16>C;++C)D[C]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(C=0;16>C;++C)D[C]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=x.g[0],S=x.g[1],C=x.g[2];var O=x.g[3],w=b+(O^S&(C^O))+D[0]+3614090360&4294967295;b=S+(w<<7&4294967295|w>>>25),w=O+(C^b&(S^C))+D[1]+3905402710&4294967295,O=b+(w<<12&4294967295|w>>>20),w=C+(S^O&(b^S))+D[2]+606105819&4294967295,C=O+(w<<17&4294967295|w>>>15),w=S+(b^C&(O^b))+D[3]+3250441966&4294967295,S=C+(w<<22&4294967295|w>>>10),w=b+(O^S&(C^O))+D[4]+4118548399&4294967295,b=S+(w<<7&4294967295|w>>>25),w=O+(C^b&(S^C))+D[5]+1200080426&4294967295,O=b+(w<<12&4294967295|w>>>20),w=C+(S^O&(b^S))+D[6]+2821735955&4294967295,C=O+(w<<17&4294967295|w>>>15),w=S+(b^C&(O^b))+D[7]+4249261313&4294967295,S=C+(w<<22&4294967295|w>>>10),w=b+(O^S&(C^O))+D[8]+1770035416&4294967295,b=S+(w<<7&4294967295|w>>>25),w=O+(C^b&(S^C))+D[9]+2336552879&4294967295,O=b+(w<<12&4294967295|w>>>20),w=C+(S^O&(b^S))+D[10]+4294925233&4294967295,C=O+(w<<17&4294967295|w>>>15),w=S+(b^C&(O^b))+D[11]+2304563134&4294967295,S=C+(w<<22&4294967295|w>>>10),w=b+(O^S&(C^O))+D[12]+1804603682&4294967295,b=S+(w<<7&4294967295|w>>>25),w=O+(C^b&(S^C))+D[13]+4254626195&4294967295,O=b+(w<<12&4294967295|w>>>20),w=C+(S^O&(b^S))+D[14]+2792965006&4294967295,C=O+(w<<17&4294967295|w>>>15),w=S+(b^C&(O^b))+D[15]+1236535329&4294967295,S=C+(w<<22&4294967295|w>>>10),w=b+(C^O&(S^C))+D[1]+4129170786&4294967295,b=S+(w<<5&4294967295|w>>>27),w=O+(S^C&(b^S))+D[6]+3225465664&4294967295,O=b+(w<<9&4294967295|w>>>23),w=C+(b^S&(O^b))+D[11]+643717713&4294967295,C=O+(w<<14&4294967295|w>>>18),w=S+(O^b&(C^O))+D[0]+3921069994&4294967295,S=C+(w<<20&4294967295|w>>>12),w=b+(C^O&(S^C))+D[5]+3593408605&4294967295,b=S+(w<<5&4294967295|w>>>27),w=O+(S^C&(b^S))+D[10]+38016083&4294967295,O=b+(w<<9&4294967295|w>>>23),w=C+(b^S&(O^b))+D[15]+3634488961&4294967295,C=O+(w<<14&4294967295|w>>>18),w=S+(O^b&(C^O))+D[4]+3889429448&4294967295,S=C+(w<<20&4294967295|w>>>12),w=b+(C^O&(S^C))+D[9]+568446438&4294967295,b=S+(w<<5&4294967295|w>>>27),w=O+(S^C&(b^S))+D[14]+3275163606&4294967295,O=b+(w<<9&4294967295|w>>>23),w=C+(b^S&(O^b))+D[3]+4107603335&4294967295,C=O+(w<<14&4294967295|w>>>18),w=S+(O^b&(C^O))+D[8]+1163531501&4294967295,S=C+(w<<20&4294967295|w>>>12),w=b+(C^O&(S^C))+D[13]+2850285829&4294967295,b=S+(w<<5&4294967295|w>>>27),w=O+(S^C&(b^S))+D[2]+4243563512&4294967295,O=b+(w<<9&4294967295|w>>>23),w=C+(b^S&(O^b))+D[7]+1735328473&4294967295,C=O+(w<<14&4294967295|w>>>18),w=S+(O^b&(C^O))+D[12]+2368359562&4294967295,S=C+(w<<20&4294967295|w>>>12),w=b+(S^C^O)+D[5]+4294588738&4294967295,b=S+(w<<4&4294967295|w>>>28),w=O+(b^S^C)+D[8]+2272392833&4294967295,O=b+(w<<11&4294967295|w>>>21),w=C+(O^b^S)+D[11]+1839030562&4294967295,C=O+(w<<16&4294967295|w>>>16),w=S+(C^O^b)+D[14]+4259657740&4294967295,S=C+(w<<23&4294967295|w>>>9),w=b+(S^C^O)+D[1]+2763975236&4294967295,b=S+(w<<4&4294967295|w>>>28),w=O+(b^S^C)+D[4]+1272893353&4294967295,O=b+(w<<11&4294967295|w>>>21),w=C+(O^b^S)+D[7]+4139469664&4294967295,C=O+(w<<16&4294967295|w>>>16),w=S+(C^O^b)+D[10]+3200236656&4294967295,S=C+(w<<23&4294967295|w>>>9),w=b+(S^C^O)+D[13]+681279174&4294967295,b=S+(w<<4&4294967295|w>>>28),w=O+(b^S^C)+D[0]+3936430074&4294967295,O=b+(w<<11&4294967295|w>>>21),w=C+(O^b^S)+D[3]+3572445317&4294967295,C=O+(w<<16&4294967295|w>>>16),w=S+(C^O^b)+D[6]+76029189&4294967295,S=C+(w<<23&4294967295|w>>>9),w=b+(S^C^O)+D[9]+3654602809&4294967295,b=S+(w<<4&4294967295|w>>>28),w=O+(b^S^C)+D[12]+3873151461&4294967295,O=b+(w<<11&4294967295|w>>>21),w=C+(O^b^S)+D[15]+530742520&4294967295,C=O+(w<<16&4294967295|w>>>16),w=S+(C^O^b)+D[2]+3299628645&4294967295,S=C+(w<<23&4294967295|w>>>9),w=b+(C^(S|~O))+D[0]+4096336452&4294967295,b=S+(w<<6&4294967295|w>>>26),w=O+(S^(b|~C))+D[7]+1126891415&4294967295,O=b+(w<<10&4294967295|w>>>22),w=C+(b^(O|~S))+D[14]+2878612391&4294967295,C=O+(w<<15&4294967295|w>>>17),w=S+(O^(C|~b))+D[5]+4237533241&4294967295,S=C+(w<<21&4294967295|w>>>11),w=b+(C^(S|~O))+D[12]+1700485571&4294967295,b=S+(w<<6&4294967295|w>>>26),w=O+(S^(b|~C))+D[3]+2399980690&4294967295,O=b+(w<<10&4294967295|w>>>22),w=C+(b^(O|~S))+D[10]+4293915773&4294967295,C=O+(w<<15&4294967295|w>>>17),w=S+(O^(C|~b))+D[1]+2240044497&4294967295,S=C+(w<<21&4294967295|w>>>11),w=b+(C^(S|~O))+D[8]+1873313359&4294967295,b=S+(w<<6&4294967295|w>>>26),w=O+(S^(b|~C))+D[15]+4264355552&4294967295,O=b+(w<<10&4294967295|w>>>22),w=C+(b^(O|~S))+D[6]+2734768916&4294967295,C=O+(w<<15&4294967295|w>>>17),w=S+(O^(C|~b))+D[13]+1309151649&4294967295,S=C+(w<<21&4294967295|w>>>11),w=b+(C^(S|~O))+D[4]+4149444226&4294967295,b=S+(w<<6&4294967295|w>>>26),w=O+(S^(b|~C))+D[11]+3174756917&4294967295,O=b+(w<<10&4294967295|w>>>22),w=C+(b^(O|~S))+D[2]+718787259&4294967295,C=O+(w<<15&4294967295|w>>>17),w=S+(O^(C|~b))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+C&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var S=b-this.blockSize,D=this.B,C=this.h,O=0;O<b;){if(C==0)for(;O<=S;)u(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<b;)if(D[C++]=x.charCodeAt(O++),C==this.blockSize){u(this,D),C=0;break}}else for(;O<b;)if(D[C++]=x[O++],C==this.blockSize){u(this,D),C=0;break}}this.h=C,this.o+=b},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var S=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=S&255,S/=256;for(this.u(x),x=Array(16),b=S=0;4>b;++b)for(var D=0;32>D;D+=8)x[S++]=this.g[b]>>>D&255;return x};function h(x,b){var S=p;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=b(x)}function d(x,b){this.h=b;for(var S=[],D=!0,C=x.length-1;0<=C;C--){var O=x[C]|0;D&&O==b||(S[C]=O,D=!1)}this.g=S}var p={};function v(x){return-128<=x&&128>x?h(x,function(b){return new d([b|0],0>b?-1:0)}):new d([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return M;if(0>x)return $(_(-x));for(var b=[],S=1,D=0;x>=S;D++)b[D]=x/S|0,S*=4294967296;return new d(b,0)}function A(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return $(A(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(b,8)),D=M,C=0;C<x.length;C+=8){var O=Math.min(8,x.length-C),w=parseInt(x.substring(C,C+O),b);8>O?(O=_(Math.pow(b,O)),D=D.j(O).add(_(w))):(D=D.j(S),D=D.add(_(w)))}return D}var M=v(0),N=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-$(this).m();for(var x=0,b=1,S=0;S<this.g.length;S++){var D=this.i(S);x+=(0<=D?D:4294967296+D)*b,b*=4294967296}return x},s.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(nt(this))return"-"+$(this).toString(x);for(var b=_(Math.pow(x,6)),S=this,D="";;){var C=It(S,b).g;S=At(S,C.j(b));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=C,Z(S))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},s.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function nt(x){return x.h==-1}s.l=function(x){return x=At(this,x),nt(x)?-1:Z(x)?0:1};function $(x){for(var b=x.g.length,S=[],D=0;D<b;D++)S[D]=~x.g[D];return new d(S,~x.h).add(N)}s.abs=function(){return nt(this)?$(this):this},s.add=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],D=0,C=0;C<=b;C++){var O=D+(this.i(C)&65535)+(x.i(C)&65535),w=(O>>>16)+(this.i(C)>>>16)+(x.i(C)>>>16);D=w>>>16,O&=65535,w&=65535,S[C]=w<<16|O}return new d(S,S[S.length-1]&-2147483648?-1:0)};function At(x,b){return x.add($(b))}s.j=function(x){if(Z(this)||Z(x))return M;if(nt(this))return nt(x)?$(this).j($(x)):$($(this).j(x));if(nt(x))return $(this.j($(x)));if(0>this.l(G)&&0>x.l(G))return _(this.m()*x.m());for(var b=this.g.length+x.g.length,S=[],D=0;D<2*b;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<x.g.length;C++){var O=this.i(D)>>>16,w=this.i(D)&65535,Oe=x.i(C)>>>16,ie=x.i(C)&65535;S[2*D+2*C]+=w*ie,mt(S,2*D+2*C),S[2*D+2*C+1]+=O*ie,mt(S,2*D+2*C+1),S[2*D+2*C+1]+=w*Oe,mt(S,2*D+2*C+1),S[2*D+2*C+2]+=O*Oe,mt(S,2*D+2*C+2)}for(D=0;D<b;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=b;D<2*b;D++)S[D]=0;return new d(S,0)};function mt(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function ht(x,b){this.g=x,this.h=b}function It(x,b){if(Z(b))throw Error("division by zero");if(Z(x))return new ht(M,M);if(nt(x))return b=It($(x),b),new ht($(b.g),$(b.h));if(nt(b))return b=It(x,$(b)),new ht($(b.g),b.h);if(30<x.g.length){if(nt(x)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var S=N,D=b;0>=D.l(x);)S=vt(S),D=vt(D);var C=zt(S,1),O=zt(D,1);for(D=zt(D,2),S=zt(S,2);!Z(D);){var w=O.add(D);0>=w.l(x)&&(C=C.add(S),O=w),D=zt(D,1),S=zt(S,1)}return b=At(x,C.j(b)),new ht(C,b)}for(C=M;0<=x.l(b);){for(S=Math.max(1,Math.floor(x.m()/b.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=_(S),w=O.j(b);nt(w)||0<w.l(x);)S-=D,O=_(S),w=O.j(b);Z(O)&&(O=N),C=C.add(O),x=At(x,w)}return new ht(C,x)}s.A=function(x){return It(this,x).h},s.and=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],D=0;D<b;D++)S[D]=this.i(D)&x.i(D);return new d(S,this.h&x.h)},s.or=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],D=0;D<b;D++)S[D]=this.i(D)|x.i(D);return new d(S,this.h|x.h)},s.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],D=0;D<b;D++)S[D]=this.i(D)^x.i(D);return new d(S,this.h^x.h)};function vt(x){for(var b=x.g.length+1,S=[],D=0;D<b;D++)S[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(S,x.h)}function zt(x,b){var S=b>>5;b%=32;for(var D=x.g.length-S,C=[],O=0;O<D;O++)C[O]=0<b?x.i(O+S)>>>b|x.i(O+S+1)<<32-b:x.i(O+S);return new d(C,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,R_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,oa=d}).apply(typeof my<"u"?my:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w_,Nl,C_,Oo,Pf,D_,V_,I_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var g=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in g))break t;g=g[z]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,z={next:function(){if(!T&&g<o.length){var q=g++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function M(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function N(o,m,g){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:M,N.apply(null,arguments)}function G(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,z,q){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return m.prototype[z].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function $(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const z=o.length||0,q=T.length||0;o.length=z+q;for(let W=0;W<q;W++)o[z+W]=T[W]}else o.push(T)}}class At{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(o){return/^[\s\xa0]*$/.test(o)}function ht(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function It(o){return It[" "](o),o}It[" "]=function(){};var vt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function zt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function x(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function b(o){const m={};for(const g in o)m[g]=o[g];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)o[g]=T[g];for(let q=0;q<S.length;q++)g=S[q],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function C(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function O(o){p.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,g){const T=ie.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new At(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,st=!1,Pt=new Oe,V=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(g){O(g)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}st=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function Rt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{It(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:yt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,J);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(o,m,g,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Oi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ni(o){this.src=o,this.g={},this.h=0}ni.prototype.add=function(o,m,g,T,z){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=Aa(o,m,T,z);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new xn(m,this.src,q,!!T,z),m.fa=g,o.push(m)),m};function Ta(o,m){var g=m.type;if(g in o.g){var T=o.g[g],z=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(T,z,1),q&&(Oi(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Aa(o,m,g,T){for(var z=0;z<o.length;++z){var q=o[z];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==T)return z}return-1}var Sa="closure_lm_"+(1e6*Math.random()|0),As={};function Wl(o,m,g,T,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Wl(o,m[q],g,T,z);return null}return g=tu(g),o&&o[be]?o.K(m,g,_(T)?!!T.capture:!1,z):fn(o,m,g,!1,T,z)}function fn(o,m,g,T,z,q){if(!m)throw Error("Invalid event type");var W=_(z)?!!z.capture:!!z,Ot=dr(o);if(Ot||(o[Sa]=Ot=new ni(o)),g=Ot.add(m,g,T,W,q),g.proxy)return g;if(T=yc(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ot||(z=W),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(ba(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function yc(){function o(g){return m.call(o.src,o.listener,g)}const m=_c;return o}function Ss(o,m,g,T,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ss(o,m[q],g,T,z);else T=_(T)?!!T.capture:!!T,g=tu(g),o&&o[be]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],g=Aa(q,g,T,z),-1<g&&(Oi(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=dr(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Aa(m,g,T,z)),(g=-1<o?m[o]:null)&&fr(g))}function fr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[be])Ta(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(ba(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=dr(m))?(Ta(g,o),g.h==0&&(g.src=null,m[Sa]=null)):Oi(o)}}}function ba(o){return o in As?As[o]:As[o]="on"+o}function _c(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&fr(o),o=g.call(T,m)}return o}function dr(o){return o=o[Sa],o instanceof ni?o:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[bs]||(o[bs]=function(m){return o.handleEvent(m)}),o[bs])}function ae(){et.call(this),this.i=new ni(this),this.M=this,this.F=null}Z(ae,et),ae.prototype[be]=!0,ae.prototype.removeEventListener=function(o,m,g,T){Ss(this,o,m,g,T)};function jt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var z=m;m=new J(T,o),D(m,z)}if(z=!0,g)for(var q=g.length-1;0<=q;q--){var W=m.g=g[q];z=en(W,T,!0,m)&&z}if(W=m.g=o,z=en(W,T,!0,m)&&z,z=en(W,T,!1,m)&&z,g)for(q=0;q<g.length;q++)W=m.g=g[q],z=en(W,T,!1,m)&&z}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Oi(g[T]);delete o.g[m],o.h--}}this.F=null},ae.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ae.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function en(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==g){var Ot=W.listener,ye=W.ha||W.src;W.fa&&Ta(o.i,W),z=Ot.call(ye,T)!==!1&&z}}return z&&!T.defaultPrevented}function ke(o,m,g){if(typeof o=="function")g&&(o=N(o,g));else if(o&&typeof o.handleEvent=="function")o=N(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function eu(o){o.g=ke(()=>{o.g=null,o.i&&(o.i=!1,eu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class vc extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(o){et.call(this),this.h=o,this.g={}}Z(Ra,et);var wa=[];function Ca(o){zt(o.g,function(m,g){this.g.hasOwnProperty(g)&&fr(m)},o),o.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),Ca(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=p.JSON.stringify,mr=p.JSON.parse,Da=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Rs(){}Rs.prototype.h=null;function ws(o){return o.h||(o.h=o.i())}function Cs(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){J.call(this,"d")}Z(ai,J);function Ds(){J.call(this,"c")}Z(Ds,J);var Un={},Vs=null;function Ni(){return Vs=Vs||new ae}Un.La="serverreachability";function gr(o){J.call(this,Un.La,o)}Z(gr,J);function Mi(o){const m=Ni();jt(m,new gr(m))}Un.STAT_EVENT="statevent";function nu(o,m){J.call(this,Un.STAT_EVENT,o),this.stat=m}Z(nu,J);function Jt(o){const m=Ni();jt(m,new nu(m,o))}Un.Ma="timingevent";function pe(o,m){J.call(this,Un.Ma,o),this.size=m}Z(pe,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Is(o,m,g,T,z,q){o.info(function(){if(o.g)if(q)for(var W="",Ot=q.split("&"),ye=0;ye<Ot.length;ye++){var Nt=Ot[ye].split("=");if(1<Nt.length){var we=Nt[0];Nt=Nt[1];var _e=we.split("_");W=2<=_e.length&&_e[1]=="type"?W+(we+"="+Nt+"&"):W+(we+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+W})}function Ec(o,m,g,T,z,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+q+" "+W})}function xi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Va(o,g)+(T?" "+T:"")})}function iu(o,m){o.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Va(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<z.length;W++)z[W]=""}}}}return wn(g)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Ln(){}Z(Ln,Rs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},zn=new Ln;function Ye(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Os={},pr={};function Cn(o,m,g){o.L=1,o.v=xa(nn(m)),o.m=g,o.P=!0,si(o,null)}function si(o,m){o.F=Date.now(),Ia(o),o.A=nn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Ls(g.i,"t",T),o.C=0,g=o.j.J,o.h=new le,o.g=vu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new vc(N(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(wa[0]=z.toString()),z=wa);for(var q=0;q<z.length;q++){var W=Wl(g,z[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Mi(),Is(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&yn(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const _e=yn(this.g);var m=this.g.Ba();const mi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||_e!=4||m==7||(m==8||0>=mi?Mi(3):Mi(2)),zi(this);var g=this.g.Z();this.X=g;e:if(au(this)){var T=hu(this.g);o="";var z=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),Pn(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,Ec(this.i,this.u,this.A,this.l,this.R,_e,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,ye=this.g;if((Ot=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(Ot)){var Nt=Ot;break e}}Nt=null}if(g=Nt)xi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,g);else{this.o=!1,this.s=3,Jt(12),Ne(this),Pn(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=ru(this,W),Me==pr){_e==4&&(this.s=4,Jt(14),g=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Os){this.s=4,Jt(15),xi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else xi(this.i,this.l,Me,null),Oa(this,Me);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||W.length!=0||this.h.h||(this.s=1,Jt(16),g=!1),this.o=this.o&&g,!g)xi(this.i,this.l,W,"[Invalid Chunked Response]"),Ne(this),Pn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ja(we),we.M=!0,Jt(11))}}else xi(this.i,this.l,W,null),Oa(this,W);_e==4&&Ne(this),this.o&&!this.J&&(_e==4?pu(this.j,this):(this.o=!1,Ia(this)))}else Rc(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Ne(this),Pn(this)}}}catch{}finally{}};function au(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function ru(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?pr:(g=Number(m.substring(g,T)),isNaN(g)?Os:(T+=1,T+g>m.length?pr:(m=m.slice(T,T+g),o.C=T+g,m)))}Ye.prototype.cancel=function(){this.J=!0,Ne(this)};function Ia(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(N(o.ba,o),m)}function zi(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(iu(this.i,this.A),this.L!=2&&(Mi(),Jt(17)),Ne(this),this.s=2,Pn(this)):su(this,this.S-o)};function Pn(o){o.j.G==0||o.J||pu(o.j,o)}function Ne(o){zi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Ca(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Oa(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Ns(g.h,o))){if(!o.K&&Ns(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Dr(g),wr(g);else break t;js(g),Jt(18)}}else g.za=z[1],0<g.za-g.T&&37500>z[2]&&g.F&&g.v==0&&!g.C&&(g.C=he(N(g.Za,g),6e3));if(1>=_r(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else di(g,11)}else if((o.K||g.g==o)&&Dr(g),!mt(m))for(z=g.Da.g.parse(m),m=0;m<z.length;m++){let Nt=z[m];if(g.T=Nt[0],Nt=Nt[1],g.G==2)if(Nt[0]=="c"){g.K=Nt[1],g.ia=Nt[2];const we=Nt[3];we!=null&&(g.la=we,g.j.info("VER="+g.la));const _e=Nt[4];_e!=null&&(g.Aa=_e,g.j.info("SVER="+g.Aa));const mi=Nt[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=o.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var q=T.h;q.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vr(q,q.h),q.h=null))}if(T.D){const Gs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,Qt(T.I,T.D,Gs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),W.K){Fe(T.h,W);var Ot=W,ye=T.L;ye&&(Ot.I=ye),Ot.B&&(zi(Ot),Ia(Ot)),T.g=W}else mu(T);0<g.i.length&&Cr(g)}else Nt[0]!="stop"&&Nt[0]!="close"||di(g,7);else g.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?di(g,7):ks(g):Nt[0]!="noop"&&g.l&&g.l.ta(Nt),g.v=0)}}Mi(4)}catch{}}var lu=class{constructor(o,m){this.g=o,this.map=m}};function li(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function _r(o){return o.h?1:o.g?o.g.size:0}function Ns(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function vr(o,m){o.g?o.g.add(m):o.h=m}function Fe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}li.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ms(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function Tc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function Er(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function xs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=Er(o),T=Tc(o),z=T.length,q=0;q<z;q++)m.call(void 0,T[q],g&&g[q],o)}var Na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),z=null;if(0<=T){var q=o[g].substring(0,T);z=o[g].substring(T+1)}else q=o[g];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Ma(this,o.j),this.o=o.o,this.g=o.g,Li(this,o.s),this.l=o.l;var m=o.i,g=new oi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),ui(this,g),this.m=o.m}else o&&(m=String(o).match(Na))?(this.h=!1,Ma(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Li(this,m[4]),this.l=mn(m[5]||"",!0),ui(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Ua(m,Us,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ua(m,Us,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Ua(g,g.charAt(0)=="/"?Sc:zs,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Ua(g,Tr)),o.join("")};function nn(o){return new fe(o)}function Ma(o,m,g){o.j=g?mn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Li(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ui(o,m,g){m instanceof oi?(o.i=m,ou(o.i,o.h)):(g||(m=Ua(m,bc)),o.i=new oi(m,o.h))}function Qt(o,m,g){o.i.set(m,g)}function xa(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function mn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ua(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,uu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Us=/[#\/\?@]/g,zs=/[#\?:]/g,Sc=/[#\?]/g,bc=/[#\?@]/g,Tr=/#/g;function oi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function gn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ac(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=oi.prototype,s.add=function(o,m){gn(this),this.i=null,o=Bn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function ci(o,m){gn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return gn(o),m=Bn(o,m),o.g.has(m)}s.forEach=function(o,m){gn(this),this.g.forEach(function(g,T){g.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){gn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const z=o[T];for(let q=0;q<z.length;q++)g.push(m[T])}return g},s.V=function(o){gn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return gn(this),this.i=null,o=Bn(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ls(o,m,g){ci(o,m),0<g.length&&(o.i=null,o.g.set(Bn(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var z=q;W[T]!==""&&(z+="="+encodeURIComponent(String(W[T]))),o.push(z)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ou(o,m){m&&!o.j&&(gn(o),o.i=null,o.g.forEach(function(g,T){var z=T.toLowerCase();T!=z&&(ci(this,T),Ls(this,z,g))},o)),o.j=m}function za(o,m){const g=new dn;if(p.Image){const T=new Image;T.onload=G(pn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=G(pn,g,"TestLoadImage: error",!1,m,T),T.onabort=G(pn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(pn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Dn(o,m){const g=new dn,T=new AbortController,z=setTimeout(()=>{T.abort(),pn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(z),q.ok?pn(g,"TestPingServer: ok",!0,m):pn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),pn(g,"TestPingServer: error",!1,m)})}function pn(o,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function La(){this.g=new Da}function kn(o,m,g){const T=g||"";try{xs(o,function(z,q){let W=z;_(z)&&(W=wn(z)),m.push(T+q+"="+encodeURIComponent(W))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Pi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Pi,Rs),Pi.prototype.g=function(){return new fi(this.l,this.j)},Pi.prototype.i=function(o){return function(){return o}}({});function fi(o,m){ae.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(fi,ae),s=fi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?qn(this):jn(this),this.readyState==3&&Ps(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,qn(this))},s.Qa=function(o){this.g&&(this.response=o,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Bs(o){let m="";return zt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function Re(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Bs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Qt(o,m,g))}function kt(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(kt,ae);var Ar=/^https?$/i,Pa=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?ws(this.o):ws(zn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){cu(this,q);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),z=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Pa,m,void 0))||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of g)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){cu(this,q)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Sr(o),Hn(o)}function Sr(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?br(this):this.bb())},s.bb=function(){br(this)};function br(o){if(o.h&&typeof d<"u"&&(!o.v[1]||yn(o)!=4||o.Z()!=2)){if(o.u&&yn(o)==4)ke(o.Ea,0,o);else if(jt(o,"readystatechange"),yn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var z=String(o.D).match(Na)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),T=!Ar.test(z?z.toLowerCase():"")}g=T}if(g)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var q=2<yn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Sr(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){Ba(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{g.onreadystatechange=T}catch{}}}function Ba(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function yn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),mr(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(o){const m={};o=(o.g&&2<=yn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(mt(o[T]))continue;var g=C(o[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[z]||[];m[z]=q,q.push(g)}x(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Rr(o){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ka("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ka("baseRetryDelayMs",5e3,o),this.cb=ka("retryDelaySeedMs",1e4,o),this.Wa=ka("forwardChannelMaxRetries",2,o),this.wa=ka("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new li(o&&o.concurrentRequestLimit),this.Da=new La,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Rr.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){Jt(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),Cr(this)};function ks(o){if(fu(o),o.G==3){var m=o.U++,g=nn(o.I);if(Qt(g,"SID",o.K),Qt(g,"RID",m),Qt(g,"TYPE","terminate"),qa(o,g),m=new Ye(o,o.j,m),m.L=2,m.v=xa(nn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ia(m)}yu(o)}function wr(o){o.g&&(ja(o),o.g.cancel(),o.g=null)}function fu(o){wr(o),o.u&&(p.clearTimeout(o.u),o.u=null),Dr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Cr(o){if(!yr(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||V(),st||(tt(),st=!0),Pt.add(m,o),o.B=0}}function wc(o,m){return _r(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(N(o.Ga,o,m),Hs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Ye(this,this.j,o);let q=this.o;if(this.S&&(q?(q=b(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=du(this,z,m),g=nn(this.I),Qt(g,"RID",o),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),qa(this,g),q&&(this.O?m="headers="+encodeURIComponent(String(Bs(q)))+"&"+m:this.m&&Re(g,this.m,q)),vr(this.h,z),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",m),Qt(g,"SID","null"),z.T=!0,Cn(z,g,null)):Cn(z,g,m),this.G=2}}else this.G==3&&(o?qs(this,o):this.i.length==0||yr(this.h)||qs(this))};function qs(o,m){var g;m?g=m.l:g=o.U++;const T=nn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",g),Qt(T,"AID",o.T),qa(o,T),o.m&&o.o&&Re(T,o.m,o.o),g=new Ye(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),vr(o.h,g),Cn(g,T,m)}function qa(o,m){o.H&&zt(o.H,function(g,T){Qt(m,T,g)}),o.l&&xs({},function(g,T){Qt(m,T,g)})}function du(o,m,g){g=Math.min(o.i.length,g);var T=o.l?N(o.l.Na,o.l,o):null;t:{var z=o.i;let q=-1;for(;;){const W=["count="+g];q==-1?0<g?(q=z[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Ot=!0;for(let ye=0;ye<g;ye++){let Nt=z[ye].g;const we=z[ye].map;if(Nt-=q,0>Nt)q=Math.max(0,z[ye].g-100),Ot=!1;else try{kn(we,W,"req"+Nt+"_")}catch{T&&T(we)}}if(Ot){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||V(),st||(tt(),st=!0),Pt.add(m,o),o.v=0}}function js(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(N(o.Fa,o),Hs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(N(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),wr(this),gu(this))};function ja(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=nn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),qa(o,m),o.m&&o.o&&Re(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=xa(nn(m)),g.m=null,g.P=!0,si(g,o)}s.Za=function(){this.C!=null&&(this.C=null,wr(this),js(this),Jt(19))};function Dr(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function pu(o,m){var g=null;if(o.g==m){Dr(o),ja(o),o.g=null;var T=2}else if(Ns(o.h,m))g=m.D,Fe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Ni(),jt(T,new pe(T,g)),Cr(o)}else mu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&wc(o,m)||T==2&&js(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),z){case 1:di(o,5);break;case 4:di(o,10);break;case 3:di(o,6);break;default:di(o,2)}}}function Hs(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function di(o,m){if(o.j.info("Error code "+m),m==2){var g=N(o.fb,o),T=o.Xa;const z=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ma(T,"https"),xa(T),z?za(T.toString(),g):Dn(T.toString(),g)}else Jt(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Ms(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,g){var T=g instanceof fe?nn(g):new fe(g);if(T.g!="")m&&(T.g=m+"."+T.g),Li(T,T.s);else{var z=p.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new fe(null);T&&Ma(q,T),m&&(q.g=m),z&&Li(q,z),g&&(q.l=g),T=q}return g=o.D,m=o.ya,g&&m&&Qt(T,g,m),Qt(T,"VER",o.la),qa(o,T),T}function vu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new Pi({eb:g})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Vr(){}Vr.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){ae.call(this),this.g=new Rr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!mt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}Z(Ke,ae),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){ks(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=wn(o),o=g);m.i.push(new lu(m.Ya++,o)),m.G==3&&Cr(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,Ke.aa.N.call(this)};function Tu(o){ai.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Tu,ai);function Au(){Ds.call(this),this.status=1}Z(Au,Ds);function Gn(o){this.g=o}Z(Gn,Eu),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(o){jt(this.g,new Tu(o))},Gn.prototype.sa=function(o){jt(this.g,new Au)},Gn.prototype.ra=function(){jt(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,I_=function(){return new Vr},V_=function(){return Ni()},D_=Un,Pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Oo=Ui,ri.COMPLETE="complete",C_=ri,Cs.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Nl=Cs,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,w_=kt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const gy="@firebase/firestore",py="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new v_("@firebase/firestore");function as(){return lr.logLevel}function it(s,...e){if(lr.logLevel<=Ut.DEBUG){const i=e.map(rd);lr.debug(`Firestore (${_s}): ${s}`,...i)}}function Vi(s,...e){if(lr.logLevel<=Ut.ERROR){const i=e.map(rd);lr.error(`Firestore (${_s}): ${s}`,...i)}}function cs(s,...e){if(lr.logLevel<=Ut.WARN){const i=e.map(rd);lr.warn(`Firestore (${_s}): ${s}`,...i)}}function rd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,O_(s,r,i)}function O_(s,e,i){let r=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Vi(r),new Error(r)}function qt(s,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,s||O_(e,u,r)}function Et(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class T1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class A1{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new N_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class S1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new S1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,i1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new yy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=w1(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function bt(s,e){return s<e?-1:s>e?1:0}function Bf(s,e){let i=0;for(;i<s.length&&i<e.length;){const r=s.codePointAt(i),u=e.codePointAt(i);if(r!==u){if(r<128&&u<128)return bt(r,u);{const h=M_(),d=C1(h.encode(_y(s,i)),h.encode(_y(e,i)));return d!==0?d:bt(r,u)}}i+=r>65535?2:1}return bt(s.length,e.length)}function _y(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function C1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function hs(s,e,i){return s.length===e.length&&s.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=-62135596800,Ey=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Ey);return new Ae(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<vy)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ey}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Ae(0,0))}static max(){return new _t(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="__name__";class $n{constructor(e,i,r){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&gt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=$n.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const r=$n.isNumericId(e),u=$n.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?$n.extractNumericId(e).compare($n.extractNumericId(i)):Bf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class te extends $n{construct(e,i,r){return new te(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new te(i)}static emptyPath(){return new te([])}}const D1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends $n{construct(e,i,r){return new Pe(e,i,r)}static isValidIdentifier(e){return D1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ty}static keyField(){return new Pe([Ty])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new ut(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(r+=p,u++):(h(),u++)}if(h(),d)throw new ut(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(te.fromString(e))}static fromName(e){return new ct(te.fromString(e).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function V1(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(r===1e9?new Ae(i+1,0):new Ae(i,r));return new da(u,ct.empty(),e)}function I1(s){return new da(s.readTime,s.key,jl)}class da{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new da(_t.min(),ct.empty(),jl)}static max(){return new da(_t.max(),ct.empty(),jl)}}function O1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==N1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,r)=>{i(e)})}static reject(e){return new F((i,r)=>{r(e)})}static waitFor(e){return new F((i,r)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},v=>r(v))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const r of e)i=i.next(u=>u?F.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new F((r,u)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++p,p===h&&r(d)},A=>u(A))}})}static doWhile(e,i){return new F((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function x1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Es(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}tc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=-1;function ec(s){return s==null}function jo(s){return s===0&&1/s==-1/0}function U1(s){return typeof s=="number"&&Number.isInteger(s)&&!jo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="";function z1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Ay(e)),e=L1(s.get(i),e);return Ay(e)}function L1(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case U_:i+="";break;default:i+=h}}return i}function Ay(s){return s+U_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function va(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function z_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new Le(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new by(this.data.getIterator())}getIteratorFrom(e){return new by(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class by{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new hn([])}unionWith(e){let i=new Se(Pe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new L_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const P1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=P1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ga(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="server_timestamp",B_="__type__",k_="__previous_value__",q_="__local_write_time__";function ld(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[B_])===null||i===void 0?void 0:i.stringValue)===P_}function nc(s){const e=s.mapValue.fields[k_];return ld(e)?nc(e):e}function Hl(s){const e=ma(s.mapValue.fields[q_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,i,r,u,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ho="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||Ho}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Ho}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="__type__",k1="__max__",wo={mapValue:{}},H_="__vector__",Go="value";function pa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ld(s)?4:j1(s)?9007199254740991:q1(s)?10:11:gt(28295,{value:s})}function ti(s,e){if(s===e)return!0;const i=pa(s);if(i!==pa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=ma(u.timestampValue),p=ma(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return ga(u.bytesValue).isEqual(ga(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),p=ce(h.doubleValue);return d===p?jo(d)===jo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return hs(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Sy(d)!==Sy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ti(d[v],p[v])))return!1;return!0}(s,e);default:return gt(52216,{left:s})}}function Ql(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function fs(s,e){if(s===e)return 0;const i=pa(s),r=pa(e);if(i!==r)return bt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=ce(h.integerValue||h.doubleValue),v=ce(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(s,e);case 3:return Ry(s.timestampValue,e.timestampValue);case 4:return Ry(Hl(s),Hl(e));case 5:return Bf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=ga(h),v=ga(d);return p.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=bt(p[_],v[_]);if(A!==0)return A}return bt(p.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=bt(ce(h.latitude),ce(d.latitude));return p!==0?p:bt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return wy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,v,_,A;const M=h.fields||{},N=d.fields||{},G=(p=M[Go])===null||p===void 0?void 0:p.arrayValue,Z=(v=N[Go])===null||v===void 0?void 0:v.arrayValue,nt=bt(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:wy(G,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let M=0;M<v.length&&M<A.length;++M){const N=Bf(v[M],A[M]);if(N!==0)return N;const G=fs(p[v[M]],_[A[M]]);if(G!==0)return G}return bt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw gt(23264,{Pe:i})}}function Ry(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=ma(s),r=ma(e),u=bt(i.seconds,r.seconds);return u!==0?u:bt(i.nanos,r.nanos)}function wy(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=fs(i[u],r[u]);if(h)return h}return bt(i.length,r.length)}function ds(s){return kf(s)}function kf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=ma(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return ga(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ct.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=kf(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${kf(i.fields[d])}`;return u+"}"}(s.mapValue):gt(61005,{value:s})}function No(s){switch(pa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nc(s);return e?16+No(e):16;case 5:return 2*s.stringValue.length;case 6:return ga(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+No(h),0)}(s.arrayValue);case 10:case 11:return function(r){let u=0;return va(r.fields,(h,d)=>{u+=h.length+No(d)}),u}(s.mapValue);default:throw gt(13486,{value:s})}}function qf(s){return!!s&&"integerValue"in s}function ud(s){return!!s&&"arrayValue"in s}function Cy(s){return!!s&&"nullValue"in s}function Dy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mo(s){return!!s&&"mapValue"in s}function q1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[j_])===null||i===void 0?void 0:i.stringValue)===H_}function zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return va(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=zl(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function j1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===k1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Mo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(i)}setAll(e){let i=Pe.emptyPath(),r={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=p.popLast()}d?r[p.lastSegment()]=zl(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Mo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Mo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){va(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new tn(zl(this.value))}}function G_(s){const e=[];return va(s.fields,(i,r)=>{const u=new Pe([i]);if(Mo(r)){const h=G_(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,r,u,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Qe(e,0,_t.min(),_t.min(),_t.min(),tn.empty(),0)}static newFoundDocument(e,i,r,u){return new Qe(e,1,i,_t.min(),r,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,_t.min(),_t.min(),tn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,_t.min(),_t.min(),tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i){this.position=e,this.inclusive=i}}function Vy(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=fs(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Iy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,i="asc"){this.field=e,this.dir=i}}function H1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{}class Te extends Q_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Q1(e,i,r):i==="array-contains"?new K1(e,r):i==="in"?new X1(e,r):i==="not-in"?new Z1(e,r):i==="array-contains-any"?new $1(e,r):new Te(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Y1(e,r):new F1(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fs(i,this.value)):i!==null&&pa(this.value)===pa(i)&&this.matchesComparison(fs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends Q_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ei(e,i)}matches(e){return Y_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Y_(s){return s.op==="and"}function F_(s){return G1(s)&&Y_(s)}function G1(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function jf(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+ds(s.value);if(F_(s))return s.filters.map(e=>jf(e)).join(",");{const e=s.filters.map(i=>jf(i)).join(",");return`${s.op}(${e})`}}function K_(s,e){return s instanceof Te?function(r,u){return u instanceof Te&&r.op===u.op&&r.field.isEqual(u.field)&&ti(r.value,u.value)}(s,e):s instanceof ei?function(r,u){return u instanceof ei&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,p)=>h&&K_(d,u.filters[p]),!0):!1}(s,e):void gt(19439)}function X_(s){return s instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${ds(i.value)}`}(s):s instanceof ei?function(i){return i.op.toString()+" {"+i.getFilters().map(X_).join(" ,")+"}"}(s):"Filter"}class Q1 extends Te{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class Y1 extends Te{constructor(e,i){super(e,"in",i),this.keys=Z_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class F1 extends Te{constructor(e,i){super(e,"not-in",i),this.keys=Z_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Z_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>ct.fromName(r.referenceValue))}class K1 extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ud(i)&&Ql(i.arrayValue,this.value)}}class X1 extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class Z1 extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ql(this.value.arrayValue,i)}}class $1 extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ud(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,i=null,r=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Ie=null}}function Oy(s,e=null,i=[],r=[],u=null,h=null,d=null){return new J1(s,e,i,r,u,h,d)}function od(s){const e=Et(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>jf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),ec(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>ds(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>ds(r)).join(",")),e.Ie=i}return e.Ie}function cd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!H1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!K_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Iy(s.startAt,e.startAt)&&Iy(s.endAt,e.endAt)}function Hf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i=null,r=[],u=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function W1(s,e,i,r,u,h,d,p){return new ic(s,e,i,r,u,h,d,p)}function $_(s){return new ic(s)}function Ny(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function tA(s){return s.collectionGroup!==null}function Ll(s){const e=Et(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Se(Pe.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Yo(h,r))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Yo(Pe.keyField(),r))}return e.Ee}function Jn(s){const e=Et(s);return e.de||(e.de=eA(e,Ll(s))),e.de}function eA(s,e){if(s.limitType==="F")return Oy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Yo(u.field,h)});const i=s.endAt?new Qo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Qo(s.startAt.position,s.startAt.inclusive):null;return Oy(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Gf(s,e,i){return new ic(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ac(s,e){return cd(Jn(s),Jn(e))&&s.limitType===e.limitType}function J_(s){return`${od(Jn(s))}|lt:${s.limitType}`}function rs(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>X_(u)).join(", ")}]`),ec(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>ds(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>ds(u)).join(",")),`Target(${r})`}(Jn(s))}; limitType=${s.limitType})`}function rc(s,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,u){for(const h of Ll(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(r,u){return!(r.startAt&&!function(d,p,v){const _=Vy(d,p,v);return d.inclusive?_<=0:_<0}(r.startAt,Ll(r),u)||r.endAt&&!function(d,p,v){const _=Vy(d,p,v);return d.inclusive?_>=0:_>0}(r.endAt,Ll(r),u))}(s,e)}function nA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function W_(s){return(e,i)=>{let r=!1;for(const u of Ll(s)){const h=iA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function iA(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?fs(v,_):gt(42886)}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new ne(ct.comparator);function Ii(){return aA}const tv=new ne(ct.comparator);function Ml(...s){let e=tv;for(const i of s)e=e.insert(i.key,i);return e}function ev(s){let e=tv;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function sr(){return Pl()}function nv(){return Pl()}function Pl(){return new cr(s=>s.toString(),(s,e)=>s.isEqual(e))}const rA=new ne(ct.comparator),sA=new Se(ct.comparator);function Vt(...s){let e=sA;for(const i of s)e=e.add(i);return e}const lA=new Se(bt);function uA(){return lA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jo(e)?"-0":e}}function iv(s){return{integerValue:""+s}}function oA(s,e){return U1(e)?iv(e):hd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function cA(s,e,i){return s instanceof Fo?function(u,h){const d={fields:{[B_]:{stringValue:P_},[q_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ld(h)&&(h=nc(h)),h&&(d.fields[k_]=h),{mapValue:d}}(i,e):s instanceof Yl?rv(s,e):s instanceof Fl?sv(s,e):function(u,h){const d=av(u,h),p=My(d)+My(u.Re);return qf(d)&&qf(u.Re)?iv(p):hd(u.serializer,p)}(s,e)}function hA(s,e,i){return s instanceof Yl?rv(s,e):s instanceof Fl?sv(s,e):i}function av(s,e){return s instanceof Ko?function(r){return qf(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class Fo extends sc{}class Yl extends sc{constructor(e){super(),this.elements=e}}function rv(s,e){const i=lv(e);for(const r of s.elements)i.some(u=>ti(u,r))||i.push(r);return{arrayValue:{values:i}}}class Fl extends sc{constructor(e){super(),this.elements=e}}function sv(s,e){let i=lv(e);for(const r of s.elements)i=i.filter(u=>!ti(u,r));return{arrayValue:{values:i}}}class Ko extends sc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function My(s){return ce(s.integerValue||s.doubleValue)}function lv(s){return ud(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fA(s,e){return s.field.isEqual(e.field)&&function(r,u){return r instanceof Yl&&u instanceof Yl||r instanceof Fl&&u instanceof Fl?hs(r.elements,u.elements,ti):r instanceof Ko&&u instanceof Ko?ti(r.Re,u.Re):r instanceof Fo&&u instanceof Fo}(s.transform,e.transform)}class dA{constructor(e,i){this.version=e,this.transformResults=i}}class Mn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class lc{}function uv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new fd(s.key,Mn.none()):new Kl(s.key,s.data,Mn.none());{const i=s.data,r=tn.empty();let u=new Se(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new Ea(s.key,r,new hn(u.toArray()),Mn.none())}}function mA(s,e,i){s instanceof Kl?function(u,h,d){const p=u.value.clone(),v=Uy(u.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof Ea?function(u,h,d){if(!xo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Uy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(ov(u)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Bl(s,e,i,r){return s instanceof Kl?function(h,d,p,v){if(!xo(h.precondition,d))return p;const _=h.value.clone(),A=zy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,r):s instanceof Ea?function(h,d,p,v){if(!xo(h.precondition,d))return p;const _=zy(h.fieldTransforms,v,d),A=d.data;return A.setAll(ov(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(M=>M.field))}(s,e,i,r):function(h,d,p){return xo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function gA(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=av(r.transform,u||null);h!=null&&(i===null&&(i=tn.empty()),i.set(r.field,h))}return i||null}function xy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&hs(r,u,(h,d)=>fA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends lc{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ea extends lc{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ov(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function Uy(s,e,i){const r=new Map;qt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);r.set(h.field,hA(d,p,i[u]))}return r}function zy(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,cA(h,d,e))}return r}class fd extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pA extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&mA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Bl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Bl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=nv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const v=uv(d,p);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(i,r)=>xy(i,r))&&hs(this.baseMutations,e.baseMutations,(i,r)=>xy(i,r))}}class dd{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){qt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let u=function(){return rA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new dd(e,i,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,xt;function EA(s){switch(s){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function cv(s){if(s===void 0)return Vi("GRPC error has no .code"),X.UNKNOWN;switch(s){case ge.OK:return X.OK;case ge.CANCELLED:return X.CANCELLED;case ge.UNKNOWN:return X.UNKNOWN;case ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ge.INTERNAL:return X.INTERNAL;case ge.UNAVAILABLE:return X.UNAVAILABLE;case ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ge.NOT_FOUND:return X.NOT_FOUND;case ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ge.ABORTED:return X.ABORTED;case ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ge.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:s})}}(xt=ge||(ge={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new oa([4294967295,4294967295],0);function Ly(s){const e=M_().encode(s),i=new R_;return i.update(e),new Uint8Array(i.digest())}function Py(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new oa([i,r],0),new oa([u,h],0)]}class md{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=oa.fromNumber(this.pe)}we(e,i,r){let u=e.add(i.multiply(oa.fromNumber(r)));return u.compare(TA)===1&&(u=new oa([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Ly(e),[r,u]=Py(i);for(let h=0;h<this.hashCount;h++){const d=this.we(r,u,h);if(!this.Se(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new md(h,u,i);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const i=Ly(e),[r,u]=Py(i);for(let h=0;h<this.hashCount;h++){const d=this.we(r,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new uc(_t.min(),u,new ne(bt),Ii(),Vt())}}class Xl{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Xl(r,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,i,r,u){this.De=e,this.removedTargetIds=i,this.key=r,this.ve=u}}class hv{constructor(e,i){this.targetId=e,this.Ce=i}}class fv{constructor(e,i,r=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class By{constructor(){this.Fe=0,this.Me=ky(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Vt(),i=Vt(),r=Vt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:gt(38017,{changeType:h})}}),new Xl(this.xe,this.Oe,e,i,r)}Qe(){this.Ne=!1,this.Me=ky()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AA{constructor(e){this.ze=e,this.je=new Map,this.He=Ii(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(bt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const r=this.rt(i);switch(e.state){case 0:this.it(i)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((r,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,r=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Hf(h))if(r===0){const d=new ct(h.path);this.tt(i,d,Qe.newNoDocument(d,_t.min()))}else qt(r===1,20013,{expectedCount:r});else{const d=this.ut(i);if(d!==r){const p=this.ct(e),v=p?this.lt(p,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=ga(r).toUint8Array()}catch(v){if(v instanceof L_)return cs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new md(d,u,h)}catch(v){return cs(v instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.pe===0?null:p}lt(e,i,r){return i.Ce.count===r-this.Tt(e,i.targetId)?0:2}Tt(e,i){const r=this.ze.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const p=this._t(d);if(p){if(h.current&&Hf(p.target)){const v=new ct(p.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Qe.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let r=Vt();this.Ye.forEach((h,d)=>{let p=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new uc(e,i,this.Ze,this.He,r);return this.He=Ii(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(bt),u}et(e,i){if(!this.it(e))return;const r=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,r){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),r&&(this.He=this.He.insert(i,r))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new By,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(bt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(bt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new By),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Co(){return new ne(ct.comparator)}function ky(){return new ne(ct.comparator)}const SA={asc:"ASCENDING",desc:"DESCENDING"},bA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RA={and:"AND",or:"OR"};class wA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Qf(s,e){return s.useProto3Json||ec(e)?e:{value:e}}function Xo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function CA(s,e){return Xo(s,e.toTimestamp())}function Wn(s){return qt(!!s,49232),_t.fromTimestamp(function(i){const r=ma(i);return new Ae(r.seconds,r.nanos)}(s))}function gd(s,e){return Yf(s,e).canonicalString()}function Yf(s,e){const i=function(u){return new te(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function mv(s){const e=te.fromString(s);return qt(vv(e),10190,{key:e.toString()}),e}function Ff(s,e){return gd(s.databaseId,e.path)}function Df(s,e){const i=mv(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(pv(i))}function gv(s,e){return gd(s.databaseId,e)}function DA(s){const e=mv(s);return e.length===4?te.emptyPath():pv(e)}function Kf(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function qy(s,e,i){return{name:Ff(s,e),fields:i.value.mapValue.fields}}function VA(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const A=_.code===void 0?X.UNKNOWN:cv(_.code);return new ut(A,_.message||"")}(d);i=new fv(r,u,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=Df(s,r.document.name),h=Wn(r.document.updateTime),d=r.document.createTime?Wn(r.document.createTime):_t.min(),p=new tn({mapValue:{fields:r.document.fields}}),v=Qe.newFoundDocument(u,h,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Uo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=Df(s,r.document),h=r.readTime?Wn(r.readTime):_t.min(),d=Qe.newNoDocument(u,h),p=r.removedTargetIds||[];i=new Uo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=Df(s,r.document),h=r.removedTargetIds||[];i=new Uo([],h,u,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new vA(u,h),p=r.targetId;i=new hv(p,d)}}return i}function IA(s,e){let i;if(e instanceof Kl)i={update:qy(s,e.key,e.value)};else if(e instanceof fd)i={delete:Ff(s,e.key)};else if(e instanceof Ea)i={update:qy(s,e.key,e.data),updateMask:BA(e.fieldMask)};else{if(!(e instanceof pA))return gt(16599,{ft:e.type});i={verify:Ff(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(h,d){const p=d.transform;if(p instanceof Fo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ko)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw gt(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:CA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(s,e.precondition)),i}function OA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Wn(u.updateTime):Wn(h);return d.isEqual(_t.min())&&(d=Wn(h)),new dA(d,u.transformResults||[])}(i,e))):[]}function NA(s,e){return{documents:[gv(s,e.path)]}}function MA(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=gv(s,u);const h=function(_){if(_.length!==0)return _v(ei.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(N){return{field:ss(N.field),direction:zA(N.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Qf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function xA(s){let e=DA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){qt(r===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(M){const N=yv(M);return N instanceof ei&&F_(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(N=>function(Z){return new Yo(ls(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(N))}(i.orderBy));let p=null;i.limit&&(p=function(M){let N;return N=typeof M=="object"?M.value:M,ec(N)?null:N}(i.limit));let v=null;i.startAt&&(v=function(M){const N=!!M.before,G=M.values||[];return new Qo(G,N)}(i.startAt));let _=null;return i.endAt&&(_=function(M){const N=!M.before,G=M.values||[];return new Qo(G,N)}(i.endAt)),W1(e,u,d,h,p,"F",v,_)}function UA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ls(i.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=ls(i.unaryFilter.field);return Te.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ls(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ls(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Te.create(ls(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ei.create(i.compositeFilter.filters.map(r=>yv(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(s):gt(30097,{filter:s})}function zA(s){return SA[s]}function LA(s){return bA[s]}function PA(s){return RA[s]}function ss(s){return{fieldPath:s.canonicalString()}}function ls(s){return Pe.fromServerFormat(s.fieldPath)}function _v(s){return s instanceof Te?function(i){if(i.op==="=="){if(Dy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NAN"}};if(Cy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Dy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NAN"}};if(Cy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(i.field),op:LA(i.op),value:i.value}}}(s):s instanceof ei?function(i){const r=i.getFilters().map(u=>_v(u));return r.length===1?r[0]:{compositeFilter:{op:PA(i.op),filters:r}}}(s):gt(54877,{filter:s})}function BA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function vv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,i,r,u,h=_t.min(),d=_t.min(),p=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.wt=e}}function qA(s){const e=xA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.Cn=new HA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(da.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(da.min())}updateCollectionGroup(e,i,r){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class HA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Se(te.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Se(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ev=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(Ev,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ms(0)}static lr(){return new ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="LruGarbageCollector",GA=1048576;function Gy([s,e],[i,r]){const u=bt(s,i);return u===0?bt(e,r):u}class QA{constructor(e){this.Er=e,this.buffer=new Se(Gy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Gy(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(Hy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Es(i)?it(Hy,"Ignoring IndexedDB error during garbage collection: ",i):await vs(i)}await this.mr(3e5)})}}class FA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return F.resolve(tc.le);const r=new QA(i);return this.gr.forEachTarget(e,u=>r.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>r.Rr(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.gr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(jy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let r,u,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),u=this.params.maximumSequenceNumbersToCollect):u=M,d=Date.now(),this.nthSequenceNumber(e,u))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,i))).next(M=>(h=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(_=Date.now(),as()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${M} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:M})))}}function KA(s,e){return new FA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.changes=new cr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?F.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&Bl(r.mutation,u,hn.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Vt()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Vt()){const u=sr();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=Ml();return h.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=sr();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Vt()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,r,u){let h=Ii();const d=Pl(),p=function(){return Pl()}();return i.forEach((v,_)=>{const A=r.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Ea)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Bl(A.mutation,_,A.mutation.getFieldMask(),Ae.now())):d.set(_.key,hn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var M;return p.set(_,new ZA(A,(M=d.get(_))!==null&&M!==void 0?M:null))}),p))}recalculateAndSaveOverlays(e,i){const r=Pl();let u=new ne((d,p)=>d-p),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||hn.empty();A=p.applyToLocalView(_,A),r.set(v,A);const M=(u.get(p.batchId)||Vt()).add(v);u=u.insert(p.batchId,M)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,M=nv();A.forEach(N=>{if(!h.has(N)){const G=uv(i.get(N),r.get(N));G!==null&&M.set(N,G),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,M))}return F.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):tA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):F.resolve(sr());let p=jl,v=h;return d.next(_=>F.forEach(_,(A,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(N=>{v=v.insert(A,N)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Vt())).next(A=>({batchId:p,changes:ev(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(r=>{let u=Ml();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,v=>{const _=function(M,N){return new ic(N,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next(A=>{A.forEach((M,N)=>{d=d.insert(M,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let p=Ml();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Bl(A.mutation,_,hn.empty(),Ae.now()),rc(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Wn(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:qA(u.bundledQuery),readTime:Wn(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.overlays=new ne(ct.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const r=sr();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.bt(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.Qr.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,i,r){const u=sr(),h=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new ne((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=sr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=sr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=u)););return F.resolve(p)}bt(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(r.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new _A(i,r));let h=this.Qr.get(i);h===void 0&&(h=Vt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.$r=new Se(Ie.Ur),this.Kr=new Se(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const r=new Ie(e,i);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(r=>this.removeReference(r,i))}Hr(e){const i=new ct(new te([])),r=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([r,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ct(new te([])),r=new Ie(i,e),u=new Ie(i,e+1);let h=Vt();return this.Kr.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),r=this.$r.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ct.comparator(e.key,i.key)||bt(e.Zr,i.Zr)}static Wr(e,i){return bt(e.Zr,i.Zr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Se(Ie.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yA(h,i,r,u);this.mutationQueue.push(d);for(const p of u)this.Xr=this.Xr.add(new Ie(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.ti(r),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?sd:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([r,u],d=>{const p=this.ei(d.Zr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Se(bt);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],p=>{r=r.add(p.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ct(h),0);let p=new Se(bt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Zr)),!0)},d),F.resolve(this.ni(p))}ni(e){const i=[];return e.forEach(r=>{const u=this.ei(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,i){const r=new Ie(i,0),u=this.Xr.firstAfterOrEqual(r);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.ii=e,this.docs=function(){return new ne(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return F.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let r=Ii();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),F.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Ii();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||O1(I1(A),r)<=0||(u.has(A.key)||rc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,r,u){gt(9500)}si(e,i){return F.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new iS(this)}getSize(e){return F.resolve(this.size)}}class iS extends XA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(r)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.persistence=e,this.oi=new cr(i=>od(i),cd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this._i=0,this.ai=new pd,this.targetCount=0,this.ui=ms.cr()}forEachTarget(e,i){return this.oi.forEach((r,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ms(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const r=this.oi.get(i)||null;return F.resolve(r)}addMatchingKeys(e,i,r){return this.ai.Gr(i,r),F.resolve()}removeMatchingKeys(e,i,r){this.ai.jr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const r=this.ai.Yr(i);return F.resolve(r)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i){this.ci={},this.overlays={},this.li=new tc(0),this.hi=!1,this.hi=!0,this.Pi=new tS,this.referenceDelegate=e(this),this.Ti=new aS(this),this.indexManager=new jA,this.remoteDocumentCache=function(u){return new nS(u)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new kA(i),this.Ei=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new WA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ci[e.toKey()];return r||(r=new eS(i,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,r){it("MemoryPersistence","Starting transaction:",e);const u=new rS(this.li.next());return this.referenceDelegate.di(),r(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,i)))}}class rS extends M1{constructor(e){super(),this.currentSequenceNumber=e}}class yd{constructor(e){this.persistence=e,this.Vi=new pd,this.mi=null}static fi(e){return new yd(e)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(e,i,r){return this.Vi.addReference(r,i),this.gi.delete(r.toString()),F.resolve()}removeReference(e,i,r){return this.Vi.removeReference(r,i),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const u=ct.fromPath(r);return this.pi(e,u).next(h=>{h||i.removeEntry(u,_t.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(r=>{r?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Zo{constructor(e,i){this.persistence=e,this.yi=new cr(r=>z1(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=KA(this,i)}static fi(e,i){return new Zo(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}Sr(e){let i=0;return this.yr(e,r=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(r,u)=>this.Dr(e,r,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(p=>{p||(r++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,i,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=No(e.data.value)),i}Dr(e,i,r){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.ds=r,this.As=u}static Rs(e,i){let r=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new _d(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tT()?8:x1(JE())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new sS;return this.bs(e,i,d).next(p=>{if(h.result=p,this.fs)return this.Ds(e,i,d,p.size)})}).next(()=>h.result)}Ds(e,i,r,u){return r.documentReadCount<this.gs?(as()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(as()<=Ut.DEBUG&&it("QueryEngine","Query:",rs(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ps*u?(as()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):F.resolve())}ws(e,i){if(Ny(i))return F.resolve(null);let r=Jn(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Gf(i,null,"F"),r=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Vt(...h);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const _=this.vs(i,p);return this.Cs(i,_,d,v.readTime)?this.ws(e,Gf(i,null,"F")):this.Fs(e,_,i,v)}))})))}Ss(e,i,r,u){return Ny(i)||u.isEqual(_t.min())?F.resolve(null):this.ys.getDocuments(e,r).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,r,u)?F.resolve(null):(as()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),rs(i)),this.Fs(e,d,i,V1(u,jl)).next(p=>p))})}vs(e,i){let r=new Se(W_(e));return i.forEach((u,h)=>{rc(e,h)&&(r=r.add(h))}),r}Cs(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(e,i,r){return as()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",rs(i)),this.ys.getDocumentsMatchingQuery(e,i,da.min(),r)}Fs(e,i,r,u){return this.ys.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="LocalStore",uS=3e8;class oS{constructor(e,i,r,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ne(bt),this.Os=new cr(h=>od(h),cd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $A(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function cS(s,e,i,r){return new oS(s,e,i,r)}async function Av(s,e){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],p=[];let v=Vt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:p}))})})}function hS(s,e){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const M=_.batch,N=M.keys();let G=F.resolve();return N.forEach(Z=>{G=G.next(()=>A.getEntry(v,Z)).next(nt=>{const $=_.docVersions.get(Z);qt($!==null,48541),nt.version.compareTo($)<0&&(M.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),G.next(()=>p.mutationQueue.removeMutationBatch(v,M))}(i,r,e,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let v=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(r,u))})}function Sv(s){const e=Et(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function fS(s,e){const i=Et(s),r=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const p=[];e.targetChanges.forEach((A,M)=>{const N=u.get(M);if(!N)return;p.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,M).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,M)));let G=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(M)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),u=u.insert(M,G),function(nt,$,At){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=uS?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(N,G,A)&&p.push(i.Ti.updateTargetData(h,G))});let v=Ii(),_=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(dS(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!r.isEqual(_t.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(M=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,r));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function dS(s,e,i){let r=Vt(),u=Vt();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let d=Ii();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):it(vd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function mS(s,e){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gS(s,e){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.Ti.getTargetData(r,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(r).next(d=>(u=new sa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Ti.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.xs.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(r.targetId,r),i.Os.set(e,r.targetId)),r})}async function Xf(s,e,i){const r=Et(s),u=r.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Es(d))throw d;it(vd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.xs=r.xs.remove(e),r.Os.delete(u.target)}function Qy(s,e,i){const r=Et(s);let u=_t.min(),h=Vt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const M=Et(v),N=M.Os.get(A);return N!==void 0?F.resolve(M.xs.get(N)):M.Ti.getTargetData(_,A)}(r,d,Jn(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(d,p.targetId).next(v=>{h=v})}).next(()=>r.Ms.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:Vt())).next(p=>(pS(r,nA(e),p),{documents:p,$s:h})))}function pS(s,e,i){let r=s.Ns.get(e)||_t.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.Ns.set(e,r)}class Yy{constructor(){this.activeTargetIds=uA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yS{constructor(){this.xo=new Yy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,r){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Yy,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="ConnectivityMonitor";class Ky{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(Fy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(Fy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Zf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="RestConnection",vS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ES{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${r}/databases/${u}`,this.Go=this.databaseId.database===Ho?`project_id=${r}`:`project_id=${r}&database_id=${u}`}zo(e,i,r,u,h){const d=Zf(),p=this.jo(e,i.toUriEncodedString());it(Vf,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(p),A=id(_);return this.Jo(e,p,v,r,A).then(M=>(it(Vf,`Received RPC '${e}' ${d}: `,M),M),M=>{throw cs(Vf,`RPC '${e}' ${d} failed with error: `,M,"url: ",p,"request:",r),M})}Yo(e,i,r,u,h,d){return this.zo(e,i,r,u,h)}Ho(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const r=vS[e];return`${this.Ko}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class AS extends ES{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,u,h){const d=Zf();return new Promise((p,v)=>{const _=new w_;_.setWithCredentials(!0),_.listenOnce(C_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Oo.NO_ERROR:const M=_.getResponseJson();it(He,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(M)),p(M);break;case Oo.TIMEOUT:it(He,`RPC '${e}' ${d} timed out`),v(new ut(X.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:const N=_.getStatus();if(it(He,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G==null?void 0:G.error;if(Z&&Z.status&&Z.message){const nt=function(At){const mt=At.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(mt)>=0?mt:X.UNKNOWN}(Z.status);v(new ut(nt,Z.message))}else v(new ut(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(He,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(He,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,r,15)})}T_(e,i,r){const u=Zf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=I_(),p=V_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,v);const M=d.createWebChannel(A,v);let N=!1,G=!1;const Z=new TS({Zo:$=>{G?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(N||(it(He,`Opening RPC '${e}' stream ${u} transport.`),M.open(),N=!0),it(He,`RPC '${e}' stream ${u} sending:`,$),M.send($))},Xo:()=>M.close()}),nt=($,At,mt)=>{$.listen(At,ht=>{try{mt(ht)}catch(It){setTimeout(()=>{throw It},0)}})};return nt(M,Nl.EventType.OPEN,()=>{G||(it(He,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),nt(M,Nl.EventType.CLOSE,()=>{G||(G=!0,it(He,`RPC '${e}' stream ${u} transport closed`),Z.u_())}),nt(M,Nl.EventType.ERROR,$=>{G||(G=!0,cs(He,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),Z.u_(new ut(X.UNAVAILABLE,"The operation could not be completed")))}),nt(M,Nl.EventType.MESSAGE,$=>{var At;if(!G){const mt=$.data[0];qt(!!mt,16349);const ht=mt,It=(ht==null?void 0:ht.error)||((At=ht[0])===null||At===void 0?void 0:At.error);if(It){it(He,`RPC '${e}' stream ${u} received error:`,It);const vt=It.status;let zt=function(S){const D=ge[S];if(D!==void 0)return cv(D)}(vt),x=It.message;zt===void 0&&(zt=X.INTERNAL,x="Unknown error status: "+vt+" with message "+It.message),G=!0,Z.u_(new ut(zt,x)),M.close()}else it(He,`RPC '${e}' stream ${u} received:`,mt),Z.c_(mt)}}),nt(p,D_.STAT_EVENT,$=>{$.stat===Pf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Pf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(s){return new wA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=r,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-r);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="PersistentStream";class Rv{constructor(e,i,r,u,h,d,p,v){this.xi=e,this.y_=r,this.w_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new bv(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.S_===i&&this.K_(r,u)},r=>{e(()=>{const u=new ut(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(u)})})}K_(e,i){const r=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{r(()=>this.W_(u))}),this.stream.onMessage(u=>{r(()=>++this.v_==1?this.z_(u):this.onNext(u))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return it(Xy,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(it(Xy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SS extends Rv{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=VA(this.serializer,e),r=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Wn(d.readTime):_t.min()}(e);return this.listener.j_(i,r)}H_(e){const i={};i.database=Kf(this.serializer),i.addTarget=function(h,d){let p;const v=d.target;if(p=Hf(v)?{documents:NA(h,v)}:{query:MA(h,v).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=dv(h,d.resumeToken);const _=Qf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Xo(h,d.snapshotVersion.toTimestamp());const _=Qf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const r=UA(this.serializer,e);r&&(i.labels=r),this.L_(i)}J_(e){const i={};i.database=Kf(this.serializer),i.removeTarget=e,this.L_(i)}}class bS extends Rv{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=OA(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.ea(r,i)}ta(){const e={};e.database=Kf(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>IA(this.serializer,r))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{}class wS extends RS{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.na=!1}ra(){if(this.na)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,r,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Yf(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(X.UNKNOWN,h.toString())})}Yo(e,i,r,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,Yf(i,r),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(X.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class CS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Vi(i),this.oa=!1):it("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="RemoteStore";class DS{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{r.enqueueAndForget(async()=>{hr(this)&&(it(ur,"Restarting streams for network reachability change."),await async function(v){const _=Et(v);_.Ta.add(4),await Zl(_),_.da.set("Unknown"),_.Ta.delete(4),await cc(_)}(this))})}),this.da=new CS(r,u)}}async function cc(s){if(hr(s))for(const e of s.Ia)await e(!0)}async function Zl(s){for(const e of s.Ia)await e(!1)}function wv(s,e){const i=Et(s);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),Sd(i)?Ad(i):Ts(i).M_()&&Td(i,e))}function Ed(s,e){const i=Et(s),r=Ts(i);i.Pa.delete(e),r.M_()&&Cv(i,e),i.Pa.size===0&&(r.M_()?r.N_():hr(i)&&i.da.set("Unknown"))}function Td(s,e){if(s.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ts(s).H_(e)}function Cv(s,e){s.Aa.Ke(e),Ts(s).J_(e)}function Ad(s){s.Aa=new AA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Pa.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Ts(s).start(),s.da._a()}function Sd(s){return hr(s)&&!Ts(s).F_()&&s.Pa.size>0}function hr(s){return Et(s).Ta.size===0}function Dv(s){s.Aa=void 0}async function VS(s){s.da.set("Online")}async function IS(s){s.Pa.forEach((e,i)=>{Td(s,e)})}async function OS(s,e){Dv(s),Sd(s)?(s.da.ca(e),Ad(s)):s.da.set("Unknown")}async function NS(s,e,i){if(s.da.set("Online"),e instanceof fv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Pa.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Pa.delete(p),u.Aa.removeTarget(p))}(s,e)}catch(r){it(ur,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $o(s,r)}else if(e instanceof Uo?s.Aa.Xe(e):e instanceof hv?s.Aa.ot(e):s.Aa.nt(e),!i.isEqual(_t.min()))try{const r=await Sv(s.localStore);i.compareTo(r)>=0&&await function(h,d){const p=h.Aa.It(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),Cv(h,v);const M=new sa(A.target,v,_,A.sequenceNumber);Td(h,M)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(r){it(ur,"Failed to raise snapshot:",r),await $o(s,r)}}async function $o(s,e,i){if(!Es(e))throw e;s.Ta.add(1),await Zl(s),s.da.set("Offline"),i||(i=()=>Sv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ur,"Retrying IndexedDB access"),await i(),s.Ta.delete(1),await cc(s)})}function Vv(s,e){return e().catch(i=>$o(s,i,e))}async function hc(s){const e=Et(s),i=ya(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:sd;for(;MS(e);)try{const u=await mS(e.localStore,r);if(u===null){e.ha.length===0&&i.N_();break}r=u.batchId,xS(e,u)}catch(u){await $o(e,u)}Iv(e)&&Ov(e)}function MS(s){return hr(s)&&s.ha.length<10}function xS(s,e){s.ha.push(e);const i=ya(s);i.M_()&&i.Y_&&i.Z_(e.mutations)}function Iv(s){return hr(s)&&!ya(s).F_()&&s.ha.length>0}function Ov(s){ya(s).start()}async function US(s){ya(s).ta()}async function zS(s){const e=ya(s);for(const i of s.ha)e.Z_(i.mutations)}async function LS(s,e,i){const r=s.ha.shift(),u=dd.from(r,e,i);await Vv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await hc(s)}async function PS(s,e){e&&ya(s).Y_&&await async function(r,u){if(function(d){return EA(d)&&d!==X.ABORTED}(u.code)){const h=r.ha.shift();ya(r).O_(),await Vv(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u)),await hc(r)}}(s,e),Iv(s)&&Ov(s)}async function Zy(s,e){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(ur,"RemoteStore received new credentials");const r=hr(i);i.Ta.add(3),await Zl(i),r&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await cc(i)}async function BS(s,e){const i=Et(s);e?(i.Ta.delete(2),await cc(i)):e||(i.Ta.add(2),await Zl(i),i.da.set("Unknown"))}function Ts(s){return s.Ra||(s.Ra=function(i,r,u){const h=Et(i);return h.ra(),new SS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:VS.bind(null,s),n_:IS.bind(null,s),i_:OS.bind(null,s),j_:NS.bind(null,s)}),s.Ia.push(async e=>{e?(s.Ra.O_(),Sd(s)?Ad(s):s.da.set("Unknown")):(await s.Ra.stop(),Dv(s))})),s.Ra}function ya(s){return s.Va||(s.Va=function(i,r,u){const h=Et(i);return h.ra(),new bS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:US.bind(null,s),i_:PS.bind(null,s),X_:zS.bind(null,s),ea:LS.bind(null,s)}),s.Ia.push(async e=>{e?(s.Va.O_(),await hc(s)):(await s.Va.stop(),s.ha.length>0&&(it(ur,`Stopping write stream with ${s.ha.length} pending writes`),s.ha=[]))})),s.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,p=new bd(e,i,d,u,h);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(s,e){if(Vi("AsyncQueue",`${e}: ${s}`),Es(s))return new ut(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{static emptySet(e){return new os(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=Ml(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new os;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.ma=new ne(ct.comparator)}track(e){const i=e.doc.key,r=this.ma.get(i);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(i,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(i):e.type===1&&r.type===2?this.ma=this.ma.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):gt(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,r)=>{e.push(r)}),e}}class gs{constructor(e,i,r,u,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new gs(e,i,os.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class qS{constructor(){this.queries=Jy(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,r){const u=Et(i),h=u.queries;u.queries=Jy(),h.forEach((d,p)=>{for(const v of p.ya)v.onError(r)})})(this,new ut(X.ABORTED,"Firestore shutting down"))}}function Jy(){return new cr(s=>J_(s),ac)}async function jS(s,e){const i=Et(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.wa()&&e.Sa()&&(r=2):(h=new kS,r=e.Sa()?0:1);try{switch(r){case 0:h.pa=await i.onListen(u,!0);break;case 1:h.pa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=Rd(d,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&wd(i)}async function HS(s,e){const i=Et(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?u=e.Sa()?0:1:!h.wa()&&e.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function GS(s,e){const i=Et(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ya)p.va(u)&&(r=!0);d.pa=u}}r&&wd(i)}function QS(s,e,i){const r=Et(s),u=r.queries.get(e);if(u)for(const h of u.ya)h.onError(i);r.queries.delete(e)}function wd(s){s.ba.forEach(e=>{e.next()})}var $f,Wy;(Wy=$f||($f={})).Ca="default",Wy.Cache="cache";class YS{constructor(e,i,r){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const r=i!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.key=e}}class Mv{constructor(e){this.key=e}}class FS{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Vt(),this.mutatedKeys=Vt(),this.Ha=W_(e),this.Ja=new os(this.Ha)}get Ya(){return this.Ga}Za(e,i){const r=i?i.Xa:new $y,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,M)=>{const N=u.get(A),G=rc(this.query,M)?M:null,Z=!!N&&this.mutatedKeys.has(N.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;N&&G?N.data.isEqual(G.data)?Z!==nt&&(r.track({type:3,doc:G}),$=!0):this.eu(N,G)||(r.track({type:2,doc:G}),$=!0,(v&&this.Ha(G,v)>0||_&&this.Ha(G,_)<0)&&(p=!0)):!N&&G?(r.track({type:0,doc:G}),$=!0):N&&!G&&(r.track({type:1,doc:N}),$=!0,(v||_)&&(p=!0)),$&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{Ja:d,Xa:r,Cs:p,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,M)=>function(G,Z){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:$})}};return nt(G)-nt(Z)}(A.type,M.type)||this.Ha(A.doc,M.doc)),this.tu(r),u=u!=null&&u;const p=i&&!u?this.nu():[],v=this.ja.size===0&&this.current&&!u?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new gs(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:p}:{ru:p}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new $y,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Vt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const i=[];return e.forEach(r=>{this.ja.has(r)||i.push(new Mv(r))}),this.ja.forEach(r=>{e.has(r)||i.push(new Nv(r))}),i}su(e){this.Ga=e.$s,this.ja=Vt();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return gs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Cd="SyncEngine";class KS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class XS{constructor(e){this.key=e,this._u=!1}}class ZS{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new cr(p=>J_(p),ac),this.cu=new Map,this.lu=new Set,this.hu=new ne(ct.comparator),this.Pu=new Map,this.Tu=new pd,this.Iu={},this.Eu=new Map,this.du=ms.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function $S(s,e,i=!0){const r=Bv(s);let u;const h=r.uu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=await xv(r,e,i,!0),u}async function JS(s,e){const i=Bv(s);await xv(i,e,!0,!1)}async function xv(s,e,i,r){const u=await gS(s.localStore,Jn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await WS(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&wv(s.remoteStore,u),p}async function WS(s,e,i,r,u){s.Ru=(M,N,G)=>async function(nt,$,At,mt){let ht=$.view.Za(At);ht.Cs&&(ht=await Qy(nt.localStore,$.query,!1).then(({documents:x})=>$.view.Za(x,ht)));const It=mt&&mt.targetChanges.get($.targetId),vt=mt&&mt.targetMismatches.get($.targetId)!=null,zt=$.view.applyChanges(ht,nt.isPrimaryClient,It,vt);return e_(nt,$.targetId,zt.ru),zt.snapshot}(s,M,N,G);const h=await Qy(s.localStore,e,!0),d=new FS(e,h.$s),p=d.Za(h.documents),v=Xl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),_=d.applyChanges(p,s.isPrimaryClient,v);e_(s,i,_.ru);const A=new KS(e,i,d);return s.uu.set(e,A),s.cu.has(i)?s.cu.get(i).push(e):s.cu.set(i,[e]),_.snapshot}async function t2(s,e,i){const r=Et(s),u=r.uu.get(e),h=r.cu.get(u.targetId);if(h.length>1)return r.cu.set(u.targetId,h.filter(d=>!ac(d,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await Xf(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&Ed(r.remoteStore,u.targetId),Jf(r,u.targetId)}).catch(vs)):(Jf(r,u.targetId),await Xf(r.localStore,u.targetId,!0))}async function e2(s,e){const i=Et(s),r=i.uu.get(e),u=i.cu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ed(i.remoteStore,r.targetId))}async function n2(s,e,i){const r=o2(s);try{const u=await function(d,p){const v=Et(d),_=Ae.now(),A=p.reduce((G,Z)=>G.add(Z.key),Vt());let M,N;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=Ii(),nt=Vt();return v.Bs.getEntries(G,A).next($=>{Z=$,Z.forEach((At,mt)=>{mt.isValidDocument()||(nt=nt.add(At))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,Z)).next($=>{M=$;const At=[];for(const mt of p){const ht=gA(mt,M.get(mt.key).overlayedDocument);ht!=null&&At.push(new Ea(mt.key,ht,G_(ht.value.mapValue),Mn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,At,p)}).next($=>{N=$;const At=$.applyToLocalDocumentSet(M,nt);return v.documentOverlayCache.saveOverlays(G,$.batchId,At)})}).then(()=>({batchId:N.batchId,changes:ev(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new ne(bt)),_=_.insert(p,v),d.Iu[d.currentUser.toKey()]=_}(r,u.batchId,i),await $l(r,u.changes),await hc(r.remoteStore)}catch(u){const h=Rd(u,"Failed to persist write");i.reject(h)}}async function Uv(s,e){const i=Et(s);try{const r=await fS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Pu.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d._u=!0:u.modifiedDocuments.size>0?qt(d._u,14607):u.removedDocuments.size>0&&(qt(d._u,42227),d._u=!1))}),await $l(i,r,e)}catch(r){await vs(r)}}function t_(s,e,i){const r=Et(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.uu.forEach((h,d)=>{const p=d.view.Da(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const v=Et(d);v.onlineState=p;let _=!1;v.queries.forEach((A,M)=>{for(const N of M.ya)N.Da(p)&&(_=!0)}),_&&wd(v)}(r.eventManager,e),u.length&&r.au.j_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i2(s,e,i){const r=Et(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Pu.get(e),h=u&&u.key;if(h){let d=new ne(ct.comparator);d=d.insert(h,Qe.newNoDocument(h,_t.min()));const p=Vt().add(h),v=new uc(_t.min(),new Map,new ne(bt),d,p);await Uv(r,v),r.hu=r.hu.remove(h),r.Pu.delete(e),Dd(r)}else await Xf(r.localStore,e,!1).then(()=>Jf(r,e,i)).catch(vs)}async function a2(s,e){const i=Et(s),r=e.batch.batchId;try{const u=await hS(i.localStore,e);Lv(i,r,null),zv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await $l(i,u)}catch(u){await vs(u)}}async function r2(s,e,i){const r=Et(s);try{const u=await function(d,p){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(M=>(qt(M!==null,37113),A=M.keys(),v.mutationQueue.removeMutationBatch(_,M))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(r.localStore,e);Lv(r,e,i),zv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await $l(r,u)}catch(u){await vs(u)}}function zv(s,e){(s.Eu.get(e)||[]).forEach(i=>{i.resolve()}),s.Eu.delete(e)}function Lv(s,e,i){const r=Et(s);let u=r.Iu[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.Iu[r.currentUser.toKey()]=u}}function Jf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.cu.get(e))s.uu.delete(r),i&&s.au.Vu(r,i);s.cu.delete(e),s.isPrimaryClient&&s.Tu.Hr(e).forEach(r=>{s.Tu.containsKey(r)||Pv(s,r)})}function Pv(s,e){s.lu.delete(e.path.canonicalString());const i=s.hu.get(e);i!==null&&(Ed(s.remoteStore,i),s.hu=s.hu.remove(e),s.Pu.delete(i),Dd(s))}function e_(s,e,i){for(const r of i)r instanceof Nv?(s.Tu.addReference(r.key,e),s2(s,r)):r instanceof Mv?(it(Cd,"Document no longer in limbo: "+r.key),s.Tu.removeReference(r.key,e),s.Tu.containsKey(r.key)||Pv(s,r.key)):gt(19791,{mu:r})}function s2(s,e){const i=e.key,r=i.path.canonicalString();s.hu.get(i)||s.lu.has(r)||(it(Cd,"New document in limbo: "+i),s.lu.add(r),Dd(s))}function Dd(s){for(;s.lu.size>0&&s.hu.size<s.maxConcurrentLimboResolutions;){const e=s.lu.values().next().value;s.lu.delete(e);const i=new ct(te.fromString(e)),r=s.du.next();s.Pu.set(r,new XS(i)),s.hu=s.hu.insert(i,r),wv(s.remoteStore,new sa(Jn($_(i.path)),r,"TargetPurposeLimboResolution",tc.le))}}async function $l(s,e,i){const r=Et(s),u=[],h=[],d=[];r.uu.isEmpty()||(r.uu.forEach((p,v)=>{d.push(r.Ru(v,e,i).then(_=>{var A;if((_||i)&&r.isPrimaryClient){const M=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,M?"current":"not-current")}if(_){u.push(_);const M=_d.Rs(v.targetId,_);h.push(M)}}))}),await Promise.all(d),r.au.j_(u),await async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>F.forEach(_,N=>F.forEach(N.ds,G=>A.persistence.referenceDelegate.addReference(M,N.targetId,G)).next(()=>F.forEach(N.As,G=>A.persistence.referenceDelegate.removeReference(M,N.targetId,G)))))}catch(M){if(!Es(M))throw M;it(vd,"Failed to update sequence numbers: "+M)}for(const M of _){const N=M.targetId;if(!M.fromCache){const G=A.xs.get(N),Z=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(N,nt)}}}(r.localStore,h))}async function l2(s,e){const i=Et(s);if(!i.currentUser.isEqual(e)){it(Cd,"User change. New user:",e.toKey());const r=await Av(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(p=>{p.forEach(v=>{v.reject(new ut(X.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $l(i,r.ks)}}function u2(s,e){const i=Et(s),r=i.Pu.get(e);if(r&&r._u)return Vt().add(r.key);{let u=Vt();const h=i.cu.get(e);if(!h)return u;for(const d of h){const p=i.uu.get(d);u=u.unionWith(p.view.Ya)}return u}}function Bv(s){const e=Et(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i2.bind(null,e),e.au.j_=GS.bind(null,e.eventManager),e.au.Vu=QS.bind(null,e.eventManager),e}function o2(s){const e=Et(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r2.bind(null,e),e}class Jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return cS(this.persistence,new lS,e.initialUser,this.serializer)}yu(e){return new Tv(yd.fi,this.serializer)}pu(e){return new yS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jo.provider={build:()=>new Jo};class c2 extends Jo{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){qt(this.persistence.referenceDelegate instanceof Zo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YA(r,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new Tv(r=>Zo.fi(r,i),this.serializer)}}class Wf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await BS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qS}()}createDatastore(e){const i=oc(e.databaseInfo.databaseId),r=function(h){return new AS(h)}(e.databaseInfo);return function(h,d,p,v){return new wS(h,d,p,v)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,p){return new DS(r,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>t_(this.syncEngine,i,0),function(){return Ky.C()?new Ky:new _S}())}createSyncEngine(e,i){return function(u,h,d,p,v,_,A){const M=new ZS(u,h,d,p,v,_);return A&&(M.Au=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Et(u);it(ur,"RemoteStore shutting down."),h.Ta.add(5),await Zl(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Wf.provider={build:()=>new Wf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class f2{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=x_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{it(_a,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(it(_a,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Rd(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Of(s,e){s.asyncQueue.verifyOperationInProgress(),it(_a,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async u=>{r.isEqual(u)||(await Av(e.localStore,u),r=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function n_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await d2(s);it(_a,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>Zy(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,u)=>Zy(e.remoteStore,u)),s._onlineComponents=e}async function d2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(_a,"Using user provided OfflineComponentProvider");try{await Of(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;cs("Error using user provided cache. Falling back to memory cache: "+i),await Of(s,new Jo)}}else it(_a,"Using default OfflineComponentProvider"),await Of(s,new c2(void 0));return s._offlineComponents}async function kv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(_a,"Using user provided OnlineComponentProvider"),await n_(s,s._uninitializedComponentsProvider._online)):(it(_a,"Using default OnlineComponentProvider"),await n_(s,new Wf))),s._onlineComponents}function m2(s){return kv(s).then(e=>e.syncEngine)}async function g2(s){const e=await kv(s),i=e.eventManager;return i.onListen=$S.bind(null,e.syncEngine),i.onUnlisten=t2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=JS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=e2.bind(null,e.syncEngine),i}function p2(s,e,i={}){const r=new ca;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new h2({next:N=>{A.Cu(),d.enqueueAndForget(()=>HS(h,M)),N.fromCache&&v.source==="server"?_.reject(new ut(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),M=new YS(p,A,{includeMetadataChanges:!0,La:!0});return jS(h,M)}(await g2(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(s,e,i){if(!i)throw new ut(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function y2(s,e,i,r){if(e===!0&&r===!0)throw new ut(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function a_(s){if(!ct.isDocumentKey(s))throw new ut(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function r_(s){if(ct.isDocumentKey(s))throw new ut(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Vd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function or(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vd(s);throw new ut(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="firestore.googleapis.com",s_=!0;class l_{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hv,this.ssl=s_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:s_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ev;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GA)throw new ut(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new E1;switch(r.type){case"firstParty":return new b1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=i_.get(i);r&&(it("ComponentProvider","Removing Datastore"),i_.delete(i),r.terminate())}(this),Promise.resolve()}}function _2(s,e,i,r={}){var u;s=or(s,fc);const h=id(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;h&&(FE(`https://${v}`),$E("Firestore",!0)),d.host!==Hv&&d.host!==v&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:r});if(!Bo(_,p)&&(s._setSettings(_),r.mockUserToken)){let A,M;if(typeof r.mockUserToken=="string")A=r.mockUserToken,M=Ge.MOCK_USER;else{A=KE(r.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new ut(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Ge(N)}s._authCredentials=new T1(new N_(A,M))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dc(this.firestore,e,this._query)}}class Rn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class ha extends dc{constructor(e,i,r){super(e,i,$_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new ct(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function Vo(s,e,...i){if(s=fa(s),jv("collection","path",e),s instanceof fc){const r=te.fromString(e,...i);return r_(r),new ha(s,null,r)}{if(!(s instanceof Rn||s instanceof ha))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(e,...i));return r_(r),new ha(s.firestore,null,r)}}function zo(s,e,...i){if(s=fa(s),arguments.length===1&&(e=x_.newId()),jv("doc","path",e),s instanceof fc){const r=te.fromString(e,...i);return a_(r),new Rn(s,null,new ct(r))}{if(!(s instanceof Rn||s instanceof ha))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(e,...i));return a_(r),new Rn(s.firestore,s instanceof ha?s.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="AsyncQueue";class o_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new bv(this,"async_queue_retry"),this.ec=()=>{const r=If();r&&it(u_,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const i=If();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=If();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new ca;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Es(e))throw e;it(u_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Vi("INTERNAL UNHANDLED ERROR: ",c_(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=i,i}enqueueAfterDelay(e,i,r){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const u=bd.createAndSchedule(this,e,i,r,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&gt(47125,{_c:c_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function c_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Jl extends fc{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new o_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o_(e),this._firestoreClient=void 0,await e}}}function v2(s,e){const i=typeof s=="object"?s:l1(),r=typeof s=="string"?s:Ho,u=n1(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=QE("firestore");h&&_2(u,...h)}return u}function Gv(s){if(s._terminated)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||E2(s),s._firestoreClient}function E2(s){var e,i,r;const u=s._freezeSettings(),h=function(p,v,_,A){return new B1(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,qv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=u.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new f2(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(Be.fromBase64String(e))}catch(i){throw new ut(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ps(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/^__.*__$/;class A2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}class Qv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Yv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{hc:s})}}class Md{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Md(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:r,Ec:!1});return u.dc(e),u}Ac(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:r,Ec:!1});return u.Pc(),u}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Wo(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Yv(this.hc)&&T2.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class S2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||oc(e)}gc(e,i,r,u=!1){return new Md({hc:e,methodName:i,fc:r,path:Pe.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fv(s){const e=s._freezeSettings(),i=oc(s._databaseId);return new S2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function b2(s,e,i,r,u,h={}){const d=s.gc(h.merge||h.mergeFields?2:0,e,i,u);xd("Data must be an object, but it was:",d,r);const p=Kv(r,d);let v,_;if(h.merge)v=new hn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const M of h.mergeFields){const N=td(e,M,i);if(!d.contains(N))throw new ut(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Zv(A,N)||A.push(N)}v=new hn(A),_=d.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,_=d.fieldTransforms;return new A2(new tn(p),v,_)}class gc extends Id{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gc}}function R2(s,e,i,r){const u=s.gc(1,e,i);xd("Data must be an object, but it was:",u,r);const h=[],d=tn.empty();va(r,(v,_)=>{const A=Ud(e,v,i);_=fa(_);const M=u.Ac(A);if(_ instanceof gc)h.push(A);else{const N=pc(_,M);N!=null&&(h.push(A),d.set(A,N))}});const p=new hn(h);return new Qv(d,p,u.fieldTransforms)}function w2(s,e,i,r,u,h){const d=s.gc(1,e,i),p=[td(e,r,i)],v=[u];if(h.length%2!=0)throw new ut(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)p.push(td(e,h[N])),v.push(h[N+1]);const _=[],A=tn.empty();for(let N=p.length-1;N>=0;--N)if(!Zv(_,p[N])){const G=p[N];let Z=v[N];Z=fa(Z);const nt=d.Ac(G);if(Z instanceof gc)_.push(G);else{const $=pc(Z,nt);$!=null&&(_.push(G),A.set(G,$))}}const M=new hn(_);return new Qv(A,M,d.fieldTransforms)}function pc(s,e){if(Xv(s=fa(s)))return xd("Unsupported field value:",e,s),Kv(s,e);if(s instanceof Id)return function(r,u){if(!Yv(u.hc))throw u.Vc(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,u){const h=[];let d=0;for(const p of r){let v=pc(p,u.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(r,u){if((r=fa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oA(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Ae.fromDate(r);return{timestampValue:Xo(u.serializer,h)}}if(r instanceof Ae){const h=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xo(u.serializer,h)}}if(r instanceof Od)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ps)return{bytesValue:dv(u.serializer,r._byteString)};if(r instanceof Rn){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:gd(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof Nd)return function(d,p){return{mapValue:{fields:{[j_]:{stringValue:H_},[Go]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.Vc("VectorValues must only contain numeric values.");return hd(p.serializer,_)})}}}}}}(r,u);throw u.Vc(`Unsupported field value: ${Vd(r)}`)}(s,e)}function Kv(s,e){const i={};return z_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(s,(r,u)=>{const h=pc(u,e.Ic(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function Xv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof Od||s instanceof ps||s instanceof Rn||s instanceof Id||s instanceof Nd)}function xd(s,e,i){if(!Xv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const r=Vd(i);throw r==="an object"?e.Vc(s+" a custom object"):e.Vc(s+" "+r)}}function td(s,e,i){if((e=fa(e))instanceof mc)return e._internalPath;if(typeof e=="string")return Ud(s,e);throw Wo("Field path arguments must be of type string or ",s,!1,void 0,i)}const C2=new RegExp("[~\\*/\\[\\]]");function Ud(s,e,i){if(e.search(C2)>=0)throw Wo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mc(...e.split("."))._internalPath}catch{throw Wo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wo(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${u}`),v+=")"),new ut(X.INVALID_ARGUMENT,p+s+v)}function Zv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Jv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class D2 extends $v{data(){return super.data()}}function Jv(s,e){return typeof e=="string"?Ud(s,e):e instanceof mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I2{convertValue(e,i="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return va(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,u;const h=(u=(r=(i=e.fields)===null||i===void 0?void 0:i[Go].arrayValue)===null||r===void 0?void 0:r.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Nd(h)}convertGeoPoint(e){return new Od(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=nc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=ma(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=te.fromString(e);qt(vv(r),9688,{name:e});const u=new Gl(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return u.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(s,e,i){let r;return r=s?s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N2 extends $v{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Lo extends N2{data(e={}){return super.data(e)}}class M2{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Io(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new Lo(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const v=new Lo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Io(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new Lo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Io(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:x2(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function x2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}class U2 extends I2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,i)}}function h_(s){s=or(s,dc);const e=or(s.firestore,Jl),i=Gv(e),r=new U2(e);return V2(s._query),p2(i,s._query).then(u=>new M2(e,r,s,u))}function f_(s,e,i,...r){s=or(s,Rn);const u=or(s.firestore,Jl),h=Fv(u);let d;return d=typeof(e=fa(e))=="string"||e instanceof mc?w2(h,"updateDoc",s._key,e,i,r):R2(h,"updateDoc",s._key,e),zd(u,[d.toMutation(s._key,Mn.exists(!0))])}function z2(s){return zd(or(s.firestore,Jl),[new fd(s._key,Mn.none())])}function d_(s,e){const i=or(s.firestore,Jl),r=zo(s),u=O2(s.converter,e);return zd(i,[b2(Fv(s.firestore),"addDoc",r._key,u,s.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}function zd(s,e){return function(r,u){const h=new ca;return r.asyncQueue.enqueueAndForget(async()=>n2(await m2(r),u,h)),h.promise}(Gv(s),e)}(function(e,i=!0){(function(u){_s=u})(s1),qo(new kl("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Jl(new A1(r.getProvider("auth-internal")),new R1(d,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),us(gy,py,e),us(gy,py,"esm2017")})();const L2={apiKey:"AIzaSyAbjavvdB_hAXf69cijLjpTIpEUs9jMMXo",authDomain:"scrum-board-f29b3.firebaseapp.com",projectId:"scrum-board-f29b3",storageBucket:"scrum-board-f29b3.firebasestorage.app",messagingSenderId:"1098190670402",appId:"1:1098190670402:web:9d8133c30155bca472bbdb",measurementId:"G-YDWS0T2PYQ"},P2=A_(L2),ar=v2(P2),Nf=["UX","Frontend","Backend"];function B2(){const[s,e]=Nn.useState([]),[i,r]=Nn.useState([]),[u,h]=Nn.useState(""),[d,p]=Nn.useState("UX"),[v,_]=Nn.useState(""),[A,M]=Nn.useState("UX"),[N,G]=Nn.useState(""),[Z,nt]=Nn.useState(""),[$,At]=Nn.useState("");Nn.useEffect(()=>{(async()=>{const D=await h_(Vo(ar,"members")),C=await h_(Vo(ar,"assignments"));e(D.docs.map(O=>O.data())),r(C.docs.map(O=>({id:O.id,...O.data()})))})()},[]);const mt=async()=>{if(!u)return alert("Fyll i namn");try{await d_(Vo(ar,"members"),{name:u,role:d}),e([...s,{name:u,role:d}]),h("")}catch{alert("Kunde inte spara medlem")}},ht=async()=>{if(!v)return alert("Fyll i uppgiftstitel");try{const S=await d_(Vo(ar,"assignments"),{title:v,category:A,timestamp:new Date().toISOString(),status:"new",assignedTo:null});r([...i,{id:S.id,title:v,category:A,timestamp:new Date().toISOString(),status:"new",assignedTo:null}]),_("")}catch{alert("Kunde inte spara uppgift")}},It=async(S,D)=>{const C=zo(ar,"assignments",S);try{await f_(C,{assignedTo:D.name,status:"in progress"}),r(i.map(O=>O.id===S?{...O,assignedTo:D.name,status:"in progress"}:O))}catch{alert("Kunde inte tilldela uppgift")}},vt=async S=>{const D=zo(ar,"assignments",S);try{await f_(D,{status:"finished"}),r(i.map(C=>C.id===S?{...C,status:"finished"}:C))}catch{alert("Kunde inte markera uppgift som klar")}},zt=async S=>{const D=zo(ar,"assignments",S);try{await z2(D),r(i.filter(C=>C.id!==S))}catch{alert("Kunde inte radera uppgift")}},x=(S,D)=>{let C=S.filter(O=>O.status===D);return N&&(C=C.filter(O=>O.category===N)),Z&&(C=C.filter(O=>O.assignedTo===Z)),$==="timestampAsc"?C.sort((O,w)=>new Date(O.timestamp)-new Date(w.timestamp)):$==="timestampDesc"?C.sort((O,w)=>new Date(w.timestamp)-new Date(O.timestamp)):$==="titleAsc"?C.sort((O,w)=>O.title.localeCompare(w.title)):$==="titleDesc"&&C.sort((O,w)=>w.title.localeCompare(O.title)),C},b=S=>x(i,S).map(D=>lt.jsxs("div",{className:"border p-4 mb-2 rounded bg-white",children:[lt.jsxs("p",{children:[lt.jsx("strong",{children:"Task:"})," ",D.title]}),lt.jsxs("p",{children:[lt.jsx("strong",{children:"Timestamp:"})," ",new Date(D.timestamp).toLocaleString()]}),lt.jsxs("p",{children:[lt.jsx("strong",{children:"Category:"})," ",D.category]}),S==="new"&&lt.jsxs("select",{onChange:C=>It(D.id,s.find(O=>O.name===C.target.value)),className:"border p-2 w-full",children:[lt.jsx("option",{children:"Vlj medlem"}),s.filter(C=>C.role===D.category).map(C=>lt.jsx("option",{value:C.name,children:C.name},C.name))]}),S==="in progress"&&lt.jsxs(lt.Fragment,{children:[lt.jsxs("p",{children:[lt.jsx("strong",{children:"Assigned To:"})," ",D.assignedTo]}),lt.jsx("button",{onClick:()=>vt(D.id),className:"bg-green-500 text-white px-4 py-2 mt-2 rounded",children:"Mark as Finished"})]}),S==="finished"&&lt.jsxs(lt.Fragment,{children:[lt.jsxs("p",{children:[lt.jsx("strong",{children:"Assigned To:"})," ",D.assignedTo]}),lt.jsx("button",{onClick:()=>zt(D.id),className:"bg-red-500 text-white px-4 py-2 mt-2 rounded",children:"Delete"})]})]},D.id));return lt.jsxs("div",{className:"p-4 grid gap-6",children:[lt.jsxs("div",{className:"border p-4 space-y-2 bg-white rounded",children:[lt.jsx("h2",{className:"text-xl font-bold",children:"Add Team Member"}),lt.jsx("input",{placeholder:"Name",value:u,onChange:S=>h(S.target.value),className:"border p-2 w-full"}),lt.jsx("select",{onChange:S=>p(S.target.value),value:d,className:"border p-2 w-full",children:Nf.map(S=>lt.jsx("option",{value:S,children:S},S))}),lt.jsx("button",{onClick:mt,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add Member"})]}),lt.jsxs("div",{className:"border p-4 space-y-2 bg-white rounded",children:[lt.jsx("h2",{className:"text-xl font-bold",children:"Add Task"}),lt.jsx("input",{placeholder:"Task title",value:v,onChange:S=>_(S.target.value),className:"border p-2 w-full"}),lt.jsx("select",{onChange:S=>M(S.target.value),value:A,className:"border p-2 w-full",children:Nf.map(S=>lt.jsx("option",{value:S,children:S},S))}),lt.jsx("button",{onClick:ht,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add Task"})]}),lt.jsxs("div",{className:"border p-4 space-y-2 bg-white rounded",children:[lt.jsx("h2",{className:"text-xl font-bold",children:"Filter & Sort (In Progress Tasks)"}),lt.jsxs("select",{onChange:S=>G(S.target.value),value:N,className:"border p-2 w-full",children:[lt.jsx("option",{value:"",children:"All Categories"}),Nf.map(S=>lt.jsx("option",{value:S,children:S},S))]}),lt.jsxs("select",{onChange:S=>nt(S.target.value),value:Z,className:"border p-2 w-full",children:[lt.jsx("option",{value:"",children:"All Members"}),s.map(S=>lt.jsx("option",{value:S.name,children:S.name},S.name))]}),lt.jsxs("select",{onChange:S=>At(S.target.value),value:$,className:"border p-2 w-full",children:[lt.jsx("option",{value:"",children:"No Sort"}),lt.jsx("option",{value:"timestampAsc",children:"Timestamp: Oldest to Newest"}),lt.jsx("option",{value:"timestampDesc",children:"Timestamp: Newest to Oldest"}),lt.jsx("option",{value:"titleAsc",children:"Title: A to Z"}),lt.jsx("option",{value:"titleDesc",children:"Title: Z to A"})]})]}),lt.jsxs("div",{children:[lt.jsx("h2",{className:"text-2xl font-bold",children:"Tasks - New"}),b("new")]}),lt.jsxs("div",{children:[lt.jsx("h2",{className:"text-2xl font-bold",children:"Tasks - In Progress"}),b("in progress")]}),lt.jsxs("div",{children:[lt.jsx("h2",{className:"text-2xl font-bold",children:"Tasks - Finished"}),b("finished")]})]})}xE.createRoot(document.getElementById("root")).render(lt.jsx(wE.StrictMode,{children:lt.jsx(B2,{})}));
